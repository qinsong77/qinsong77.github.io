import{_ as r,r as c,o as l,c as i,a as s,b as a,w as p,F as u,d as o,e as n}from"./app.a96f585b.js";var d="/assets/e2e.d5342983.webp",b="/assets/pyramid_model2.3100cf0c.png",k="/assets/champ_model.f712a521.jpeg",m="/assets/tdd-process.52c03442.png",h="/assets/tdd-process2.e502d510.png",_="/assets/simple-test-principle.78662b3a.jpeg",g="/assets/jest_babel.d0debc5a.png",f="/assets/setupFiles-vs-setupFilesAfterEnv.3c500b14.png",j="/assets/test_result.4b445abd.png",v="/assets/jest-env-dom-error.b2bfcbdd.png";const y={},q=s("hr",null,null,-1),x={class:"table-of-contents"},w=n("\u5F15\u8A00"),D=n("\u6D4B\u8BD5\u7C7B\u578B"),T=n("\u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5"),E=n("\u96C6\u6210\u6D4B\u8BD5"),I=n("UI \u6D4B\u8BD5\uFF08UI Test\uFF09"),F=n("\u7AEF\u5230\u7AEF\u6D4B\u8BD5E2E Test"),U=n("\u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B"),M=n("\u6D4B\u8BD5\u91D1\u5B57\u5854"),A=n("\u5956\u676F\u6A21\u5F0F"),J=n("\u4EC0\u4E48\u573A\u666F\u9002\u5408"),B=n("\u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B"),S=n("TDD"),N=n("TDD \u7684\u4E09\u5C42\u542B\u4E49"),C=n("TDD \u7684\u6D41\u7A0B"),L=n("\u7B80\u5355\u8BBE\u8BA1\u539F\u5219"),$=n("\u6D4B\u8BD5\u6761\u4EF6\u683C\u5F0F"),R=n("\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F \u5BF9\u6BD4 TDD \u7F16\u7801\u65B9\u5F0F"),O=n("BDD"),P=n("\u6D4B\u8BD5\u539F\u5219"),V=n("React\u9879\u76EE\u5982\u4F55\u914D\u7F6EJest\u548CRTL"),W=n("\u5B89\u88C5\u4F9D\u8D56"),z=n("babel?"),G=n("\u4F7F\u7528ts-jest \u4EE3\u66FFbabel"),Q=n("\u914D\u7F6E\u6587\u4EF6"),X=n("\u8DEF\u5F84\u7B80\u5199"),H=n("\u751F\u6210\u6D4B\u8BD5\u8986\u76D6\u7387\u62A5\u544A"),K=n("\u62A5\u9519"),Y=n("Reference"),Z=o(`<h2 id="\u5F15\u8A00" tabindex="-1"><a class="header-anchor" href="#\u5F15\u8A00" aria-hidden="true">#</a> \u5F15\u8A00</h2><p>\u5728\u524D\u7AEF\u5DE5\u7A0B\u5316\u8D8A\u6765\u8D8A\u5B8C\u5584\u7684\u4ECA\u5929\uFF0C\u4E00\u4E2A\u6807\u51C6\u5B8C\u6574\u7684\u9879\u76EE\uFF0C\u901A\u5E38\u60C5\u51B5\u5355\u5143\u6D4B\u8BD5\u662F\u975E\u5E38\u5FC5\u8981\u7684\uFF0C\u524D\u7AEF\u5DE5\u7A0B\u5316\u5927\u81F4\u5206\u4E3A\u6A21\u5757\u5316\u3001\u7EC4\u4EF6\u5316\u3001\u89C4\u8303\u5316\u548C\u81EA\u52A8\u5316\uFF0C\u6D4B\u8BD5\u6211\u4F1A\u8BA4\u4E3A\u5728\u81EA\u52A8\u5316\u73AF\u8282\u3002\u6D4B\u8BD5\u5728\u654F\u6377\u5F00\u53D1\u4E2D\u4E5F\u662F\u4E0D\u53EF\u6216\u7F3A\u7684\u90E8\u5206\uFF0C\u6BD4\u5982\u5728\u7ED3\u5BF9\u7F16\u7A0B\u4E2D\uFF0C\u53EF\u4EE5\u4E00\u4EBA\u5199\u6D4B\u8BD5\uFF0C\u4E00\u4EBA\u5199\u5B9E\u73B0\u4EE3\u7801\uFF0C\u654F\u6377\u5F00\u53D1\u8BB2\u7A76TDD\uFF0C\u4E5F\u662F\u91CD\u6784\u73AF\u8282\u7684\u5F3A\u529B\u652F\u6301\u7B49\u3002 \u5728\u8FD9\u91CC\u5C31\u4E0D\u591A\u8BB2\u6BD4\u5982\u524D\u7AEF\u4E3A\u4EC0\u4E48\u9700\u8981\u6D4B\u8BD5\uFF0C\u80FD\u5E26\u6765\u4EC0\u4E48\u6536\u76CA\u7B49\u4E86\uFF0C\u7406\u8BBA\u4E0A\u6D4B\u8BD5\u662F\u9879\u76EE\u4E2D\u5FC5\u4E0D\u53EF\u5C11\u7684\u4E00\u73AF\uFF0C\u7136\u800C\u5728\u56FD\u5185\u5374\u5F88\u5C11\u5199\uFF0C\u7279\u522B\u662F\u524D\u7AEF\uFF0C\u56FD\u5185\u4E92\u8054\u7F51\u5F80\u5F80\u8FFD\u6C42\u4EA7\u54C1\u548C\u4E1A\u52A1\u7684\u5FEB\u901F\u4E0A\u7EBF\u548C\u8FED\u4EE3\uFF0C\u6D4B\u8BD5\u4E0D\u53EF\u907F\u514D\u7684\u88AB\u538B\u7F29\u548C\u727A\u7272\u3002\u4E2A\u4EBA\u89C9\u5F97\u662F\u5426\u80FD\u628A\u524D\u7AEF\u6D4B\u8BD5\u843D\u5730\u5230 \u9879\u76EE\u4E0A\uFF0C\u53EF\u80FD\u8BDD\u8BED\u6743\u6839\u672C\u4E0D\u5728\u524D\u7AEF\u5F00\u53D1\uFF0C\u5B8C\u5168\u5728\u4E8E\u516C\u53F8\u7684\u5F00\u53D1\u6587\u5316\u3001\u9879\u76EE\u6D41\u7A0B\u7B49\u3002</p><h2 id="\u6D4B\u8BD5\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u7C7B\u578B" aria-hidden="true">#</a> \u6D4B\u8BD5\u7C7B\u578B</h2><p>\u81EA\u52A8\u5316\u6D4B\u8BD5\u53EF\u4EE5\u5E2E\u52A9\u6211\u4EEC\u63D0\u9AD8\u4EE3\u7801\u548C\u529F\u80FD\u7684\u5065\u58EE\u7A0B\u5EA6\uFF0C\u5927\u5E45\u51CF\u5C11\u53EF\u80FD\u51FA\u73B0\u7684bug\u3002\u65E5\u5E38\u5F00\u53D1\u901A\u5E38\u6D89\u53CA\u5230<strong>\u4E1A\u52A1\u4EE3\u7801\u7684\u5F00\u53D1</strong>\u4EE5\u53CA<strong>\u51FD\u6570</strong>\u3001<strong>\u7EC4\u4EF6\u5E93</strong>\u7684\u5F00\u53D1\u3002\u9488\u5BF9\u8FD9\u51E0\u65B9\u9762\u7684\u81EA\u52A8\u5316\u6D4B\u8BD5\uFF0C\u5728\u6A21\u5F0F\u548C\u6D41\u7A0B\u4E0A\u4E5F\u6709\u5404\u81EA\u7684\u8981\u6C42\u4E0E\u4FA7\u91CD\u3002</p><p>\u8FD9\u5C31\u884D\u751F\u51FA\u4E86\u5355\u5143\u6D4B\u8BD5\uFF08Unit Test\uFF09\u3001\u96C6\u6210\u6D4B\u8BD5\uFF08Integration Test\uFF09\u3001UI\u6D4B\u8BD5\uFF08UI Test\uFF09\u3001\u7AEF\u5230\u7AEF(e2e)\u6D4B\u8BD5/\u529F\u80FD\u6D4B\u56DB\u79CD\u4E3B\u8981\u7684\u6D4B\u8BD5\u65B9\u6CD5\uFF0C\u4EE5\u53CA<strong>TDD</strong>\u4E0E<strong>BDD</strong>\u7684\u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B\u3002</p><blockquote><p>\u524D\u7AEF\u6D4B\u8BD5\u4E3B\u8981\u5206\u4E3A4\u79CD\uFF1A\u5355\u5143\u6D4B\u8BD5\uFF08Unit Test\uFF09\u3001\u96C6\u6210\u6D4B\u8BD5\uFF08Integration Test\uFF09\u3001UI\u6D4B\u8BD5\uFF08UI Test\uFF09\u3001\u7AEF\u5230\u7AEF(e2e)\u6D4B\u8BD5/\u529F\u80FD\u6D4B\u8BD5\u3002</p></blockquote><h3 id="\u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5</h3><blockquote><p>\u5728\u8BA1\u7B97\u673A\u7F16\u7A0B\u4E2D\uFF0C\u5355\u5143\u6D4B\u8BD5\uFF08\u82F1\u8BED\uFF1AUnit Testing\uFF09\u53C8\u79F0\u4E3A\u6A21\u5757\u6D4B\u8BD5\uFF0C\u662F\u9488\u5BF9\u7A0B\u5E8F\u6A21\u5757\uFF08\u8F6F\u4EF6\u8BBE\u8BA1\u7684\u6700\u5C0F\u5355\u4F4D\uFF09\u6765\u8FDB\u884C\u6B63\u786E\u6027\u68C0\u9A8C\u7684\u6D4B\u8BD5\u5DE5\u4F5C\u3002\u7A0B\u5E8F\u5355\u5143\u662F\u5E94\u7528\u7684\u6700\u5C0F\u53EF\u6D4B\u8BD5\u90E8\u4EF6\u3002\u5728\u8FC7\u7A0B\u5316\u7F16\u7A0B\u4E2D\uFF0C\u4E00\u4E2A\u5355\u5143\u5C31\u662F\u5355\u4E2A\u7A0B\u5E8F\u3001\u51FD\u6570\u3001\u8FC7\u7A0B\u7B49\uFF1B\u5BF9\u4E8E\u9762\u5411\u5BF9\u8C61\u7F16\u7A0B\uFF0C\u6700\u5C0F\u5355\u5143\u5C31\u662F\u65B9\u6CD5\uFF0C\u5305\u62EC\u57FA\u7C7B\uFF08\u8D85\u7C7B\uFF09\u3001\u62BD\u8C61\u7C7B\u3001\u6216\u8005\u6D3E\u751F\u7C7B\uFF08\u5B50\u7C7B\uFF09\u4E2D\u7684\u65B9\u6CD5\u3002\u2014\u2014\u7EF4\u57FA\u767E\u79D1</p></blockquote><p>\u6240\u8C13\u5355\u5143\u6D4B\u8BD5\uFF08unit testing\uFF09\uFF0C\u662F\u6307\u5BF9\u8F6F\u4EF6\u4E2D\u7684\u6700\u5C0F\u53EF\u6D4B\u8BD5\u5355\u5143\u8FDB\u884C\u68C0\u67E5\u548C\u9A8C\u8BC1\u3002\u901A\u4FD7\u5730\u8BB2\uFF0C\u5728\u524D\u7AEF\uFF0C\u5355\u5143\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E00\u4E2A\u72EC\u7ACB\u7684\u6A21\u5757\u6587\u4EF6\uFF0C\u5355\u5143\u6D4B\u8BD5\u5C31\u662F\u5BF9\u8FD9\u6837\u4E00\u4E2A\u6A21\u5757\u6587\u4EF6\u7684\u6D4B\u8BD5\u3002</p><p>\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u5728\u516C\u5171\u51FD\u6570/\u7EC4\u4EF6\u4E2D\u4E00\u5B9A\u8981\u6709\u5355\u5143\u6D4B\u8BD5\u6765\u4FDD\u8BC1\u4EE3\u7801\u80FD\u591F\u6B63\u5E38\u5DE5\u4F5C\u3002\u5355\u5143\u6D4B\u8BD5\u4E5F\u5E94\u8BE5\u662F\u9879\u76EE\u4E2D\u6570\u91CF\u6700\u591A\u3001\u8986\u76D6\u7387\u6700\u9AD8\u7684\u3002</p><p>\u80FD\u8FDB\u884C\u5355\u5143\u6D4B\u8BD5\u7684\u51FD\u6570/\u7EC4\u4EF6\uFF0C\u4E00\u5B9A\u662F\u4F4E\u8026\u5408\u7684\uFF0C\u8FD9\u4E5F\u4ECE\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u4FDD\u8BC1\u4E86\u6211\u4EEC\u7684\u4EE3\u7801\u8D28\u91CF\u3002<code>given-when-then</code>\u7684\u7ED3\u6784\uFF0C\u53EF\u4EE5\u8BA9\u4F60\u5199\u51FA\u6BD4\u8F83\u6E05\u6670\u7684\u6D4B\u8BD5\u7ED3\u6784\uFF0C\u65E2\u6613\u4E8E\u9605\u8BFB\uFF0C\u4E5F\u6613\u4E8E\u7F16\u5199\u3002\u6BD4\u5982\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">TProduct</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token builtin">string</span>
 price<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// production code</span>
<span class="token keyword">const</span> <span class="token function-variable function">computeTotalAmount</span> <span class="token operator">=</span> <span class="token punctuation">(</span>products<span class="token operator">:</span> TProduct<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> products<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> product<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> total <span class="token operator">+</span> product<span class="token punctuation">.</span>price<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// testing code</span>
<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#39;should return summed up total amount 1000 when there are three products priced 200, 300, 500&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token comment">// given - \u51C6\u5907\u6570\u636E</span>
 <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;nike&#39;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;adidas&#39;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token number">300</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;lining&#39;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">]</span>

 <span class="token comment">// when - \u8C03\u7528\u88AB\u6D4B\u51FD\u6570</span>
 <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">computeTotalAmount</span><span class="token punctuation">(</span>products<span class="token punctuation">)</span>

 <span class="token comment">// then - \u65AD\u8A00\u7ED3\u679C</span>
 <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u4E00\u4E2A\u597D\u7684\u5355\u5143\u6D4B\u8BD5\u5E94\u8BE5\u6709\u4EE5\u4E0B\u7279\u70B9\uFF1A</p><ul><li>\u53EA\u5173\u6CE8\u8F93\u5165\u8F93\u51FA\uFF0C\u4E0D\u5173\u6CE8\u5185\u90E8\u5B9E\u73B0</li><li>\u53EA\u6D4B\u4E00\u6761\u5206\u652F</li><li>\u8868\u8FBE\u529B\u6781\u5F3A</li><li>\u4E0D\u5305\u542B\u903B\u8F91</li><li>\u8FD0\u884C\u901F\u5EA6\u5FEB</li></ul><h3 id="\u96C6\u6210\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u96C6\u6210\u6D4B\u8BD5" aria-hidden="true">#</a> \u96C6\u6210\u6D4B\u8BD5</h3><p>\u6240\u8C13\u96C6\u6210\u6D4B\u8BD5\uFF08Integration Testing\uFF09\uFF0C\u662F\u6307\u5BF9\u8F6F\u4EF6\u4E2D\u7684\u6240\u6709\u6A21\u5757\u6309\u7167\u8BBE\u8BA1\u8981\u6C42\u8FDB\u884C\u7EC4\u88C5\u4E3A\u5B8C\u6574\u7CFB\u7EDF\u540E\uFF0C\u8FDB\u884C\u68C0\u67E5\u548C\u9A8C\u8BC1\u3002\u901A\u4FD7\u5730\u8BB2\uFF0C\u5728\u524D\u7AEF\uFF0C\u96C6\u6210\u6D4B\u8BD5\u53EF\u4EE5\u7406\u89E3\u4E3A\u5BF9\u591A\u4E2A\u6A21\u5757\u5B9E\u73B0\u7684\u4E00\u4E2A\u4EA4\u4E92\u5B8C\u6574\u7684\u4EA4\u4E92\u6D41\u7A0B\u8FDB\u884C\u6D4B\u8BD5\u3002</p><p>\u96C6\u6210\u6D4B\u8BD5\u901A\u5E38\u88AB\u5E94\u7528\u5728\uFF1A\u8026\u5408\u5EA6\u8F83\u9AD8\u7684\u51FD\u6570/\u7EC4\u4EF6\u3001\u7ECF\u8FC7\u4E8C\u6B21\u5C01\u88C5\u7684\u51FD\u6570/\u7EC4\u4EF6\u3001\u591A\u4E2A\u51FD\u6570/\u7EC4\u4EF6\u7EC4\u5408\u800C\u6210\u7684\u51FD\u6570/\u7EC4\u4EF6\u7B49\u3002</p><p>\u96C6\u6210\u6D4B\u8BD5\u662F\u5B89\u5168\u611F\u8F83\u9AD8\u7684\u6D4B\u8BD5\uFF0C\u80FD\u5F88\u5927\u7A0B\u5EA6\u63D0\u5347\u5F00\u53D1\u8005\u7684\u4FE1\u5FC3\uFF0C\u96C6\u6210\u6D4B\u8BD5\u7528\u4F8B\u8BBE\u8BA1\u5408\u7406\u4E14\u6D4B\u8BD5\u90FD\u901A\u8FC7\u80FD\u591F\u5F88\u5927\u7A0B\u5EA6\u4FDD\u8BC1\u4EA7\u54C1\u7B26\u5408\u9884\u671F\u3002</p><h3 id="ui-\u6D4B\u8BD5-ui-test" tabindex="-1"><a class="header-anchor" href="#ui-\u6D4B\u8BD5-ui-test" aria-hidden="true">#</a> UI \u6D4B\u8BD5\uFF08UI Test\uFF09</h3><p>\u5C31\u524D\u7AEF\u800C\u8A00\uFF0CUI \u6D4B\u8BD5\uFF08UI Test\uFF09\u66F4\u8D34\u8FD1\u4E8E\u6211\u4EEC\u7684\u5F00\u53D1\u6D41\u7A0B\u3002\u5728\u524D\u540E\u7AEF\u5206\u79BB\u7684\u5F00\u53D1\u6A21\u5F0F\u4E2D\uFF0C\u524D\u7AEF\u5F00\u53D1\u901A\u5E38\u4F1A\u4F7F\u7528\u5230 Mock \u7684\u670D\u52A1\u548C\u6570\u636E\u3002\u56E0\u800C\u6211\u4EEC\u9700\u8981\u5728\u5F00\u53D1\u57FA\u672C\u5B8C\u6210\u540E\u8FDB\u884C\u76F8\u5E94\u7684 UI \u6D4B\u8BD5\uFF08UI Test\uFF09\u3002</p><p>\u4E3B\u8981\u662F\u5BF9\u56FE\u5F62\u4EA4\u4E92\u754C\u9762\u7684\u6D4B\u8BD5\u3002UI\u5C42\u662F\u7528\u6237\u4F7F\u7528\u4EA7\u54C1\u7684\u5165\u53E3\uFF0C\u6240\u6709\u529F\u80FD\u901A\u8FC7\u8FD9\u4E00\u5C42\u63D0\u4F9B\u7ED9\u7528\u6237\u3002</p><p>\u4E3E\u4E00\u4E2A\u4F8B\u5B50\uFF1A\u73B0\u5728\u4F60\u8981\u5BF9\u6BD4\uFF0C\u201C\u7279\u5B9A\u9875\u9762\u7684\u89C6\u89C9\u6837\u5F0F\u201D\u662F\u5426\u4E25\u683C\u6EE1\u8DB3\u201C\u8BBE\u8BA1\u5E08\u4EA7\u51FA\u7684\u89C6\u89C9\u7A3F\u201D\uFF0C\u5C31\u6D89\u53CA\u5230\u4E86ui\u6D4B\u8BD5\u3002\u4E00\u822C\u4F1A\u6D89\u53CA\u5230UI\u754C\u9762\u7684\u5FEB\u7167(\u754C\u9762\u622A\u56FE)\u5BF9\u6BD4\u7B49\uFF0C\u6240\u4EE5\u5FEB\u7167\u6D4B\u8BD5\u662F\u5C5E\u4E8EUI\u6D4B\u8BD5\u7684\u4E00\u79CD</p><p>\u5F88\u591A\u4EBA\u8BA4\u4E3A\uFF0CUI\u603B\u662F\u9891\u7E41\u7684\u53D8\u52A8\uFF0C\u5BFC\u81F4\u6D4B\u8BD5\u7528\u4F8B\u7EF4\u62A4\u6210\u672C\u9AD8\uFF0C\u6027\u4EF7\u6BD4\u4F4E\uFF0C\u56E0\u6B64UI\u81EA\u52A8\u5316\u6D4B\u8BD5\u6BD4\u8F83\u9002\u5408\u573A\u666F\u7A33\u5B9A\u7684\u4E1A\u52A1\u3002\u5176\u5B9E\u4E0D\u662F\uFF0C\u8FD9\u91CC\u7684UI\u4E0D\u4EC5\u4EC5\u6307\u7684\u662F\u89C6\u89C9\uFF0C\u66F4\u591A\u7684\u662F\u4E1A\u52A1\u903B\u8F91\u3002UI\u53EF\u4EE5\u591A\u53D8\uFF0C\u4F46\u4E1A\u52A1\u903B\u8F91\u4E00\u5B9A\u662F\u8D8B\u4E8E\u7A33\u5B9A\u7684\uFF0C\u5C24\u5176\u662F\u6838\u5FC3\u4E1A\u52A1\u3002</p><h4 id="\u5FEB\u7167\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u7167\u6D4B\u8BD5" aria-hidden="true">#</a> \u5FEB\u7167\u6D4B\u8BD5</h4><p>\u5FEB\u7167\u6D4B\u8BD5\u7C7B\u4F3C\u4E8E\u201C\u627E\u832C\u201D\u6E38\u620F\u3002\u5FEB\u7167\u6D4B\u8BD5\u4F1A\u7ED9\u8FD0\u884C\u4E2D\u7684\u5E94\u7528\u7A0B\u5E8F\u62CD\u4E00\u5F20\u56FE\u7247\uFF0C\u5E76\u5C06\u5176\u4E0E\u4EE5\u524D\u4FDD\u5B58\u7684\u56FE\u7247\u8FDB\u884C\u6BD4\u8F83\u3002\u5982\u679C\u56FE\u50CF\u4E0D\u540C\uFF0C\u5219\u6D4B\u8BD5\u5931\u8D25\u3002\u8FD9\u79CD\u6D4B\u8BD5\u65B9\u6CD5\u5BF9\u786E\u4FDD\u5E94\u7528\u7A0B\u5E8F\u4EE3\u7801\u53D8\u66F4\u540E\u662F\u5426\u4ECD\u7136\u53EF\u4EE5\u6B63\u786E\u6E32\u67D3\u5F88\u6709\u5E2E\u52A9\u3002 \u5F53\u7136\uFF0C\u5728\u524D\u7AEF\u4E2D\uFF0C\u5176\u5B9E\u5E76\u4E0D\u662F\u6BD4\u8F83\u56FE\u7247\uFF0C\u800C\u662F\u6BD4\u8F83\u524D\u540E\u751F\u6210\u7684html\u7ED3\u6784\uFF0C\u672C\u8D28\u4E0A\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u7684\u6BD4\u8F83\u3002 \u54EA\u4E9B\u573A\u666F\u4F1A\u7528\u5230\u5FEB\u7167\u6D4B\u8BD5\u5462\uFF1F\u5178\u578B\u7684\u5C31\u662F\u7EC4\u4EF6\u5E93\u4E2D\uFF0C\u4F8B\u5982\uFF1Aant design\uFF0Cvant\u7B49\u5176\u5B9E\u6BCF\u4E2A\u7EC4\u4EF6\u90FD\u4F1A\u6709\u5BF9\u5E94\u7684\u5FEB\u7167\u6D4B\u8BD5\u3002</p><h5 id="\u5FEB\u7167\u6D4B\u8BD5\u7684\u5F31\u70B9" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u7167\u6D4B\u8BD5\u7684\u5F31\u70B9" aria-hidden="true">#</a> \u5FEB\u7167\u6D4B\u8BD5\u7684\u5F31\u70B9</h5><p>\u5FEB\u7167\u672C\u8EAB\u4E0D\u80FD\u9A8C\u8BC1\u6E32\u67D3\u903B\u8F91\u7684\u6B63\u786E\u6027\uFF0C\u5B83\u4EEC\u53EA\u662F\u64C5\u957F\u9632\u6B62\u610F\u5916\u66F4\u6539\uFF0C\u68C0\u67E5\u6E32\u67D3\u7ED3\u679C\u662F\u5426\u6240\u9700\u7684\u5143\u7D20\u3001\u503C\u53CA\u6837\u5F0F\u7B49\u7B49\u3002</p><p>\u5FEB\u7167\u6D4B\u8BD5\u5931\u8D25\u65F6\uFF0C\u5F88\u5BB9\u6613\u901A\u8FC7 <code>Jest \u2013updateSnapshot</code> \u9009\u9879\u66F4\u65B0\uFF0C\u800C\u6CA1\u6709\u91C7\u53D6\u9002\u5F53\u7684\u63AA\u65BD\u9A8C\u8BC1\u662F\u5426\u9700\u8981\u66F4\u6539\u3002\u56E0\u6B64\uFF0C\u9700\u8981\u67D0\u4E9B\u5F00\u53D1\u4EBA\u5458\u7EAA\u5F8B\u3002</p><p>\u521B\u5EFA\u5FEB\u7167\u65F6\uFF0C\u5373\u4F7F\u5728\u6E32\u67D3\u7684\u8F93\u51FA\u5B9E\u9645\u4E0A\u662F\u9519\u8BEF\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E5F\u88AB\u8BA4\u4E3A\u662F\u6B63\u786E\u7684\u3002</p><h3 id="\u7AEF\u5230\u7AEF\u6D4B\u8BD5e2e-test" tabindex="-1"><a class="header-anchor" href="#\u7AEF\u5230\u7AEF\u6D4B\u8BD5e2e-test" aria-hidden="true">#</a> \u7AEF\u5230\u7AEF\u6D4B\u8BD5E2E Test</h3><p>E2E\uFF08end to end\uFF09\u7AEF\u5230\u7AEF\u6D4B\u8BD5\u662F\u6700\u76F4\u89C2\u53EF\u4EE5\u7406\u89E3\u7684\u6D4B\u8BD5\u7C7B\u578B\u3002\u5728\u524D\u7AEF\u5E94\u7528\u7A0B\u5E8F\u4E2D\uFF0C\u7AEF\u5230\u7AEF\u6D4B\u8BD5\u53EF\u4EE5\u4ECE\u7528\u6237\u7684\u89C6\u89D2\u901A\u8FC7\u6D4F\u89C8\u5668\u81EA\u52A8\u68C0\u67E5\u5E94\u7528\u7A0B\u5E8F\u662F\u5426\u6B63\u5E38\u5DE5\u4F5C\u3002 \u4E0D\u5173\u5FC3\u4EE3\u7801\u5185\u90E8\u7684\u5B9E\u73B0\uFF0C\u53EA\u8D1F\u8D23\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u628A\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u8BBE\u7F6E\u7684\u5185\u5BB9\u5728\u9875\u9762\u4E0A\u8F93\u5165\u4E00\u904D\uFF0C\u770B\u662F\u4E0D\u662F\u5F97\u5230\u60F3\u8981\u5F97\u5230\u7684\u7ED3\u679C\u3002</p><p>\u4E00\u4E9B\u6D41\u884C\u7684\u7AEF\u5230\u7AEF\u6D4B\u8BD5\u6846\u67B6\uFF1A</p><ul><li>Cypress\uFF08\u63A8\u8350\uFF09</li><li>Nightwatch</li><li>WebdriverIO</li><li>playwright</li></ul><p><img src="`+d+'" alt=""></p>',34),ss={href:"https://www.w3.org/TR/webdriver/",target:"_blank",rel:"noopener noreferrer"},ns=n("WebDriver"),as=n(" \u662FW3C\u6807\u51C6\u4E2D\u7684\u6D4F\u89C8\u5668\u8FDC\u7A0B\u63A7\u5236\u534F\u8BAE\uFF08Protocol\uFF09"),es=o('<p>\u771F\u5B9E\u7684\u6D4B\u8BD5\u73AF\u5883\uFF0C\u66F4\u5BB9\u6613\u83B7\u5F97\u7A0B\u5E8F\u7684\u4FE1\u5FC3\u3002</p><h2 id="\u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B" aria-hidden="true">#</a> \u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B</h2><p>\u9996\u5148\uFF0C\u7B80\u5355\u5BF9\u4EE5\u4E0A\u96C6\u4E2D\u6D4B\u8BD5\u65B9\u6CD5\u7B80\u5355\u603B\u7ED3\u4E00\u4E0B\uFF1A</p><ul><li>\u5355\u5143\u6D4B\u8BD5\uFF1A\u4ECE\u7A0B\u5E8F\u89D2\u5EA6\u51FA\u53D1\uFF0C\u5BF9\u5E94\u7528\u7A0B\u5E8F\u6700\u5C0F\u7684\u90E8\u5206\uFF08\u51FD\u6570\u3001\u7EC4\u4EF6\uFF09\u8FD0\u884C\u6D4B\u8BD5\u7684\u8FC7\u7A0B\uFF0C\u5B83\u662F\u4ECE\u7A0B\u5E8F\u5458\u7684\u89D2\u5EA6\u7F16\u5199\u7684\uFF0C\u4FDD\u8BC1\u4E00\u4E9B\u65B9\u6CD5\u6267\u884C\u7279\u5B9A\u7684\u4EFB\u52A1\uFF0C\u7ED9\u51FA\u7279\u5B9A\u8F93\u5165\uFF0C\u5F97\u5230\u9884\u671F\u7684\u7ED3\u679C\u3002</li><li>\u96C6\u6210\u6D4B\u8BD5\uFF1A\u4ECE\u7528\u6237\u89D2\u5EA6\u51FA\u53D1\uFF0C\u5BF9\u5E94\u7528\u4E2D\u591A\u4E2A\u6A21\u5757\u7EC4\u7EC7\u5230\u4E00\u8D77\u7684\u6B63\u786E\u6027\u8FDB\u884C\u6D4B\u8BD5\u3002</li><li>\u5FEB\u7167\u6D4B\u8BD5\uFF1A\u5FEB\u7167\u6D4B\u8BD5\u7C7B\u4F3C\u4E8E\u201C\u627E\u4E0D\u540C\u201D\u6E38\u620F\uFF0C\u4E3B\u8981\u7528\u4E8E UI \u6D4B\u8BD5\u3002</li><li>\u7AEF\u5230\u7AEF\u6D4B\u8BD5\uFF1A\u7AEF\u5230\u7AEF\u6D4B\u8BD5\u662F\u4ECE\u7528\u6237\u7684\u89D2\u5EA6\u7F16\u5199\u7684\uFF0C\u57FA\u4E8E\u771F\u5B9E\u6D4F\u89C8\u5668\u73AF\u5883\u6D4B\u8BD5\u7528\u6237\u6267\u884C\u5B83\u6240\u671F\u671B\u7684\u5DE5\u4F5C\u3002</li></ul><p>\u524D\u7AEF\u6D4B\u8BD5\u4E2D\u6709\u4E24\u79CD\u6A21\u578B, <code>\u91D1\u5B57\u5854\u6A21\u578B</code>\u4E0E<code>\u5956\u676F\u6A21\u578B</code>\u3002</p><h3 id="\u6D4B\u8BD5\u91D1\u5B57\u5854" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u91D1\u5B57\u5854" aria-hidden="true">#</a> \u6D4B\u8BD5\u91D1\u5B57\u5854</h3>',6),ts=n("4\u79CD\u90A3\u5230\u5E95\u8BE5\u5199\u54EA\u79CD\u6D4B\u8BD5\uFF1F\u90FD\u5199\uFF0C\u6839\u636E\u60C5\u51B5\u7075\u6D3B\u5206\u914D\u3002\u6BD4\u8F83\u5178\u578B\u7684\u5C31\u662F\uFF1A "),ps={href:"https://martinfowler.com/bliki/TestPyramid.html",target:"_blank",rel:"noopener noreferrer"},os=n("\u91D1\u5B57\u5854\u6A21\u5F0F"),cs=o('<p><img src="'+b+'" alt=""></p><p>\u91D1\u5B57\u5854\u6A21\u578B\u81EA\u4E0B\u800C\u4E0A\u5206\u4E3A\u5355\u5143\u6D4B\u8BD5\u3001\u96C6\u6210\u6D4B\u8BD5\u3001UI \u6D4B\u8BD5, \u4E4B\u6240\u4EE5\u662F\u91D1\u5B57\u5854\u7ED3\u6784\u662F\u56E0\u4E3A\u5355\u5143\u6D4B\u8BD5\u7684\u6210\u672C\u6700\u4F4E, \u4E0E\u4E4B\u76F8\u5BF9, UI \u6D4B\u8BD5\u7684\u6210\u672C\u6700\u9AD8\u3002\u6240\u4EE5\u5355\u5143\u6D4B\u8BD5\u5199\u7684\u6570\u91CF\u6700\u591A, UI \u6D4B\u8BD5\u5199\u7684\u6570\u91CF\u6700\u5C11\u3002\u540C\u65F6\u9700\u6CE8\u610F\u7684\u662F\u8D8A\u662F\u4E0A\u5C42\u7684\u6D4B\u8BD5, \u5176\u901A\u8FC7\u7387\u7ED9\u5F00\u53D1\u8005\u5E26\u6765\u7684\u4FE1\u5FC3\u662F\u8D8A\u5927\u7684\u3002</p><p><strong>\u6574\u4E2A\u91D1\u5B57\u5854\u6A21\u578B\u4EE3\u8868\u7740\u8D8A\u4E0A\u5C42\u7684\u6D4B\u8BD5\u96C6\u6210\u5EA6\u8D8A\u9AD8\uFF0C\u6267\u884C\u901F\u5EA6\u8D8A\u6162\uFF0C\u8D8A\u4E0B\u5C42\u7684\u6D4B\u8BD5\u9694\u79BB\u6027\u8D8A\u597D\uFF0C\u6267\u884C\u8D8A\u5FEB\u8D8A\u8F7B\u91CF\u3002</strong></p><p>\u90FD\u8BF4\u4E1A\u5185\u6700\u4F73\u5B9E\u8DF5\u770BGoogle\uFF0CGoogle\u7684\u81EA\u52A8\u5316\u6D4B\u8BD5\u5206\u5C42\u6BD4\u4F8B\u662F\uFF1A</p><ul><li>\u5355\u5143\u6D4B\u8BD5\uFF0870%\uFF09</li><li>\u63A5\u53E3\u6D4B\u8BD5\uFF0820%\uFF09</li><li>UI\u6D4B\u8BD5\uFF0810%\uFF09</li></ul><h4 id="ui\u6D4B\u8BD5-vs-e2e\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#ui\u6D4B\u8BD5-vs-e2e\u6D4B\u8BD5" aria-hidden="true">#</a> UI\u6D4B\u8BD5 VS E2E\u6D4B\u8BD5</h4><blockquote><p>UI\u6D4B\u8BD5\uFF08User Interface Test): \u53EA\u662F\u5BF9\u4E8E\u524D\u7AEF\u7684\u6D4B\u8BD5\uFF0C\u662F\u8131\u79BB\u771F\u5B9E\u540E\u7AEF\u73AF\u5883\u7684\uFF0C\u4EC5\u4EC5\u53EA\u662F\u5C06\u524D\u7AEF\u653E\u5728\u771F\u5B9E\u73AF\u5883\u4E2D\u8FD0\u884C\uFF0C\u800C\u540E\u7AEF\u548C\u6570\u636E\u90FD\u5E94\u8BE5\u4F7F\u7528 Mock \u7684\u3002</p></blockquote><blockquote><p>E2E\u6D4B\u8BD5\uFF08End-to-end Test\uFF09\uFF1A\u5219\u662F\u5C06\u6574\u4E2A\u5E94\u7528\u653E\u5230\u771F\u5B9E\u7684\u73AF\u5883\u4E2D\u8FD0\u884C\uFF0C\u5305\u62EC\u6570\u636E\u5728\u5185\u4E5F\u662F\u9700\u8981\u4F7F\u7528\u771F\u5B9E\u7684\u3002</p></blockquote><p>\u6D4B\u8BD5\u91D1\u5B57\u5854\u7684\u9876\u5C42\uFF08UI\u6D4B\u8BD5\uFF09\u5E76\u975E\u8FD9\u91CC\u5B57\u9762\u610F\u4E49\u4E0A\u7684&quot;UI\u6D4B\u8BD5&quot;\uFF0C\u8FD9\u4E00\u70B9\u6BD4\u8F83\u6709\u8BEF\u5BFC\u6027\uFF0C\u5BF9\u4E8E\u73B0\u4EE3\u524D\u7AEF\u5E94\u7528\uFF0CUI\u6D4B\u8BD5\u4FA7\u91CD\u4EA7\u54C1\u7684UI\u4EA4\u4E92\u662F\u5426\u6B63\u786E\uFF0C\u6A21\u62DF\u540E\u7AEF\u8FDB\u884C\u6D4B\u8BD5\u4E5F\u53EF\u4EE5\uFF0C\u653E\u5728\u5355\u5143\u6D4B\u8BD5\u91CC\u53BB\u505A\u4E5F\u53EF\u4EE5\u3002 \u800CE2E\u6D4B\u8BD5\uFF0C\u662F\u9700\u8981\u6A21\u62DF\u7528\u6237\u771F\u5B9E\u573A\u666F\u7684\u6D4B\u8BD5\uFF0C\u68C0\u67E5\u6574\u4E2A\u7CFB\u7EDF\u662F\u5426\u4EE5\u6B63\u786E\u7684\u65B9\u5F0F\u8FD0\u4F5C\u3002 \u6240\u4EE5\u5E7F\u4E49\u4E0A\u7684\u201CUI\u6D4B\u8BD5\u201D\uFF08\u6D4B\u8BD5\u91D1\u5B57\u5854\u7684UI Tests\uFF09\u53EF\u4EE5\u8BA4\u4E3A\u662FE2E\u6D4B\u8BD5\u3002</p><h3 id="\u5956\u676F\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5956\u676F\u6A21\u5F0F" aria-hidden="true">#</a> \u5956\u676F\u6A21\u5F0F</h3>',10),rs=n("\u5956\u676F\u6A21\u578B\u6458\u81EA Kent C. Dodds \u63D0\u51FA\u7684 "),ls={href:"https://twitter.com/kentcdodds/status/960723172591992832?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E960723172591992832&ref_url=https%3A%2F%2Fkentcdodds.com%2Fblog%2Fwrite-tests",target:"_blank",rel:"noopener noreferrer"},is=n("The Testing Trophy"),us=n("\uFF0C\u8BE5\u6A21\u578B\u662F\u6BD4\u8F83\u8BA4\u53EF\u7684\u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B\uFF0C\u6A21\u578B\u793A\u610F\u56FE\u5982\u4E0B:"),ds=o('<p><img src="'+k+'" alt=""></p><p>\u5956\u676F\u6A21\u578B\u4E2D\u81EA\u4E0B\u800C\u4E0A\u5206\u4E3A\u9759\u6001\u6D4B\u8BD5\u3001\u5355\u5143\u6D4B\u8BD5\u3001\u96C6\u6210\u6D4B\u8BD5\u3001e2e \u6D4B\u8BD5, \u5B83\u4EEC\u7684\u804C\u8D23\u5927\u81F4\u5982\u4E0B\uFF1A</p><ul><li>\u9759\u6001\u6D4B\u8BD5\uFF1A\u5728\u7F16\u5199\u4EE3\u7801\u903B\u8F91\u9636\u6BB5\u65F6\u8FDB\u884C\u62A5\u9519\u63D0\u793A\u3002(\u4EE3\u8868\u5E93: ESLint\u3001Flow\u3001TypeScript)</li><li>\u5355\u5143\u6D4B\u8BD5\uFF1A\u5728\u5956\u676F\u6A21\u578B\u4E2D, \u5355\u5143\u6D4B\u8BD5\u7684\u804C\u8D23\u662F\u5BF9\u4E00\u4E9B\u8FB9\u754C\u60C5\u51B5\u6216\u8005\u7279\u5B9A\u7684\u7B97\u6CD5\u8FDB\u884C\u6D4B\u8BD5\u3002(\u4EE3\u8868\u5E93: Jest\u3001Mocha)</li><li>\u96C6\u6210\u6D4B\u8BD5\uFF1A\u6A21\u62DF\u7528\u6237\u7684\u884C\u4E3A\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u5BF9\u7F51\u7EDC\u8BF7\u6C42\u3001\u83B7\u53D6\u6570\u636E\u5E93\u7684\u6570\u636E\u7B49\u4F9D\u8D56\u7B2C\u4E09\u65B9\u73AF\u5883\u7684\u884C\u4E3A\u8FDB\u884C Mock\u3002\uFF08\u4EE3\u8868\u5E93: Jest\u3001react-testing-library\u3001Vue Testing Library \u7B49\uFF09</li><li>e2e \u6D4B\u8BD5\uFF1A\u6A21\u62DF\u7528\u6237\u5728\u771F\u5B9E\u73AF\u5883\u4E0A\u64CD\u4F5C\u884C\u4E3A\uFF08\u5305\u62EC\u7F51\u7EDC\u8BF7\u6C42\u3001\u83B7\u53D6\u6570\u636E\u5E93\u6570\u636E\u7B49\uFF09\u7684\u6D4B\u8BD5\u3002\uFF08\u4EE3\u8868\u5E93: Cypress\uFF09</li></ul><p>\u8D8A\u662F\u4E0A\u5C42\u7684\u6D4B\u8BD5\u7ED9\u5F00\u53D1\u8005\u5E26\u6765\u7684\u81EA\u4FE1\u662F\u8D8A\u5927\u7684, \u4E0E\u6B64\u540C\u65F6, \u8D8A\u662F\u4E0B\u5C42\u7684\u6D4B\u8BD5\u6D4B\u8BD5\u7684\u6548\u7387\u662F\u8D8A\u9AD8\u7684\u3002\u5956\u676F\u6A21\u578B\u7EFC\u5408\u8003\u8651\u4E86\u8FD9\u4E24\u70B9\u56E0\u7D20, \u53EF\u4EE5\u770B\u5230\u5176\u5728\u96C6\u6210\u6D4B\u8BD5\u4E2D\u7684\u5360\u6BD4\u662F\u6700\u9AD8\u7684\u3002</p><h3 id="\u4EC0\u4E48\u573A\u666F\u9002\u5408" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u573A\u666F\u9002\u5408" aria-hidden="true">#</a> \u4EC0\u4E48\u573A\u666F\u9002\u5408</h3><p>\u4E0B\u9762\u662F\u9488\u5BF9\u4E0D\u540C\u7684\u5E94\u7528\u573A\u666F\u4E3A\u4E86\u4E00\u4E9B\u4E2A\u4EBA\u5EFA\u8BAE:</p><ul><li>\u5982\u679C\u4F60\u662F\u5F00\u53D1\u7EAF\u51FD\u6570\u5E93\uFF0C\u5EFA\u8BAE\u5199\u66F4\u591A\u7684\u5355\u5143\u6D4B\u8BD5 + \u5C11\u91CF\u7684\u96C6\u6210\u6D4B\u8BD5</li><li>\u5982\u679C\u4F60\u662F\u5F00\u53D1\u7EC4\u4EF6\u5E93\uFF0C\u5EFA\u8BAE\u5199\u66F4\u591A\u7684\u5355\u5143\u6D4B\u8BD5\u3001\u4E3A\u6BCF\u4E2A\u7EC4\u4EF6\u7F16\u5199\u5FEB\u7167\u6D4B\u8BD5\u3001\u5199\u5C11\u91CF\u7684\u96C6\u6210\u6D4B\u8BD5 + \u7AEF\u5230\u7AEF\u6D4B\u8BD5</li><li>\u5982\u679C\u4F60\u662F\u5F00\u53D1\u4E1A\u52A1\u7CFB\u7EDF\uFF0C\u5EFA\u8BAE\u5199\u66F4\u591A\u7684\u96C6\u6210\u6D4B\u8BD5\u3001\u4E3A\u5DE5\u5177\u7C7B\u5E93\u3001\u7B97\u6CD5\u5199\u5355\u5143\u6D4B\u8BD5\u3001\u5199\u5C11\u91CF\u7684\u7AEF\u5230\u7AEF\u6D4B\u8BD5</li></ul><h2 id="\u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B" aria-hidden="true">#</a> \u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B</h2><h3 id="tdd" tabindex="-1"><a class="header-anchor" href="#tdd" aria-hidden="true">#</a> TDD</h3><p>TDD\uFF0C\u5373Test-Driven Development\uFF08\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\uFF09\uFF0C\u4FA7\u91CD\u70B9\u504F\u5411\u5F00\u53D1\uFF0C\u901A\u8FC7\u6D4B\u8BD5\u7528\u4F8B\u6765\u89C4\u8303\u7EA6\u675F\u5F00\u53D1\u8005\u7F16\u5199\u51FA\u8D28\u91CF\u66F4\u9AD8\u3001bug \u66F4\u5C11\u7684\u4EE3\u7801\u3002\u7B80\u5355\u7684\u6765\u8BF4\u5C31\u662F\u5148\u7F16\u5199\u6D4B\u8BD5\u4EE3\u7801\uFF0C\u7136\u540E\u4EE5\u4F7F\u5F97\u6240\u6709\u6D4B\u8BD5\u4EE3\u7801\u90FD\u901A\u8FC7\u4E3A\u76EE\u7684\uFF0C\u7F16\u5199\u903B\u8F91\u4EE3\u7801\uFF0C\u662F\u4E00\u79CD\u4EE5\u6D4B\u8BD5\u6765\u9A71\u52A8\u5F00\u53D1\u8FC7\u7A0B\u7684\u5F00\u53D1\u6A21\u5F0F\u3002</p>',10),bs=n("\u82F1\u8BED\uFF1ATest-driven development\uFF0C\u7F29\u5199\u4E3A "),ks=s("strong",null,"TDD",-1),ms=n(" \uFF09\u662F\u4E00\u79CD"),hs={href:"https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},_s=n("\u8F6F\u4EF6\u5F00\u53D1\u8FC7\u7A0B"),gs=n("\u4E2D\u7684\u5E94\u7528\u65B9\u6CD5\uFF0C\u7531"),fs={href:"https://zh.wikipedia.org/wiki/%E6%9E%81%E9%99%90%E7%BC%96%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},js=n("\u6781\u9650\u7F16\u7A0B"),vs=n("\u4E2D\u5021\u5BFC\uFF0C\u4EE5\u5176\u5021\u5BFC\u5148\u5199\u6D4B\u8BD5\u7A0B\u5E8F\uFF0C\u7136\u540E\u7F16\u7801\u5B9E\u73B0\u5176\u529F\u80FD\u5F97\u540D\u3002\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\u59CB\u4E8E 20 \u4E16\u7EAA 90 \u5E74\u4EE3\u3002\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\u7684\u76EE\u7684\u662F\u53D6\u5F97\u5FEB\u901F\u53CD\u9988\u5E76\u4F7F\u7528\u201Cillustrate the main line\u201D\u65B9\u6CD5\u6765\u6784\u5EFA\u7A0B\u5E8F\u3002\u2014\u2014\u7EF4\u57FA\u767E\u79D1"),ys=o('<p>TDD\u9700\u8981\u5728\u6D4B\u8BD5\u7684\u6307\u5BFC\u4E0B\u5199\u4EE3\u7801\uFF0C\u5173\u6CE8\u70B9\u7A0D\u5FAE\u504F\u91CD\u4E8E\u6D4B\u8BD5\u3002</p><p>\u4F7F\u7528\u5355\u5143\u6D4B\u8BD5\u7ED3\u5408\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\u7684\u6D41\u7A0B\uFF0C\u5E94\u8BE5\u9010\u4E00\u68B3\u7406\u529F\u80FD\uFF0C\u7F16\u5199\u7684\u6D4B\u8BD5\u7528\u4F8B\u5E94\u805A\u7126\u5728\u67D0\u4E2A\u5355\u5143\u4E0A\u3002</p><p>\u9488\u5BF9\u529F\u80FD\u70B9\u548C\u7EC4\u4EF6\u5404\u81EA\u7684\u804C\u8D23\uFF0C\u5148\u5199\u6D4B\u8BD5\u4EE3\u7801\uFF0C\u7136\u540E\u5199\u4E1A\u52A1\u4EE3\u7801\uFF0C\u8BA9\u4E1A\u52A1\u6700\u540E\u901A\u8FC7\u6D4B\u8BD5\uFF0C\u5B8C\u6210\u5F00\u53D1\u3002</p><p>\u540C\u65F6\u91C7\u7528\u5355\u5143\u6D4B\u8BD5\u7684\u65B9\u5F0F\uFF0C\u8981\u4FDD\u8BC1\u6240\u7F16\u5199\u7684\u6D4B\u8BD5\u7528\u4F8B\uFF0C\u53EA\u9488\u5BF9\u7EC4\u4EF6\u672C\u8EAB\u7684\u529F\u80FD\u3002</p><p>TDD\u7531\u4E8E\u662F\u5148\u5199\u6D4B\u8BD5\u7528\u4F8B\u518D\u8FDB\u884C\u5F00\u53D1\uFF0C\u6240\u4EE5\u4F1A\u4FDD\u8BC1\u6BCF\u4E2A\u529F\u80FD\u7684\u4EE3\u7801\u90FD\u662F\u7ECF\u8FC7\u6D4B\u8BD5\u7684\uFF0Cbug\u81EA\u7136\u5C31\u5C11\u4E86\u5F88\u591A\u3002</p><p>\u540C\u65F6\u5728\u7F16\u5199\u6D4B\u8BD5\u4EE3\u7801\u7684\u65F6\u5019\uFF0C\u5F88\u81EA\u7136\u5730\u8981\u53BB\u601D\u8003\u8FD9\u4E2A\u529F\u80FD\u7684\u4EE3\u7801\u5982\u4F55\u7EC4\u7EC7\uFF0C\u4E5F\u5728\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u63D0\u9AD8\u4E86\u4EE3\u7801\u7684\u53EF\u7EF4\u62A4\u6027\u3002</p><h3 id="tdd-\u7684\u4E09\u5C42\u542B\u4E49" tabindex="-1"><a class="header-anchor" href="#tdd-\u7684\u4E09\u5C42\u542B\u4E49" aria-hidden="true">#</a> TDD \u7684\u4E09\u5C42\u542B\u4E49</h3><ul><li>Test-Driven Development\uFF0C\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1</li><li>Task-Driven Development\uFF0C\u4EFB\u52A1\u9A71\u52A8\u5F00\u53D1\uFF0C\u8981\u5BF9\u95EE\u9898\u8FDB\u884C\u5206\u6790\u5E76\u8FDB\u884C\u4EFB\u52A1\u5206\u89E3</li><li>Test-Driven Design\uFF0C\u6D4B\u8BD5\u4FDD\u62A4\u4E0B\u7684\u8BBE\u8BA1\u6539\u5584\u3002TDD \u5E76\u4E0D\u80FD\u76F4\u63A5\u63D0\u9AD8\u8BBE\u8BA1\u80FD\u529B\uFF0C\u5B83\u53EA\u662F\u7ED9\u4F60\u66F4\u591A\u673A\u4F1A\u548C\u4FDD\u969C\u53BB\u6539\u5584\u8BBE\u8BA1</li></ul><h3 id="tdd-\u7684\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#tdd-\u7684\u6D41\u7A0B" aria-hidden="true">#</a> TDD \u7684\u6D41\u7A0B</h3><p>TDD \u7684\u57FA\u672C\u6D41\u7A0B</p><ul><li>\u7EA2\uFF1A\u5199\u4E00\u4E2A\u5931\u8D25\u7684\u6D4B\u8BD5\uFF0C\u5B83\u662F\u5BF9\u4E00\u4E2A\u6700\u5C0F\u5355\u4F4D\u7684\u9700\u6C42\u63CF\u8FF0\uFF0C\u53EA\u5173\u5FC3\u8F93\u5165\u8F93\u51FA\uFF0C\u4E0D\u8003\u8651\u5982\u4F55\u5B9E\u73B0</li><li>\u7EFF\uFF1A\u4E13\u6CE8\u5728\u7528\u6700\u5FEB\u7684\u65B9\u5F0F\u5B9E\u73B0\u5F53\u524D\u8FD9\u4E2A\u5C0F\u9700\u6C42\uFF0C\u4E0D\u7BA1\u5176\u4ED6\u9700\u6C42\uFF0C\u4E5F\u4E0D\u7BA1\u4EE3\u7801\u8D28\u91CF\u5982\u4F55</li><li>\u91CD\u6784\uFF1A\u65E2\u4E0D\u7528\u601D\u8003\u9700\u6C42\uFF0C\u4E5F\u6CA1\u6709\u5B9E\u73B0\u7684\u538B\u529B\uFF0C\u53EA\u9700\u8981\u627E\u51FA\u4EE3\u7801\u4E2D\u7684\u574F\u5473\u9053\uFF0C\u5E76\u7528\u4E00\u4E2A\u624B\u6CD5\u6D88\u9664\u5B83\uFF0C\u8BA9\u4EE3\u7801\u53D8\u6574\u6D01</li></ul><p><img src="'+m+'" alt=""></p><ol><li>\u521B\u5EFA\u4E00\u4E2A\u5931\u8D25\u7684\u6D4B\u8BD5</li><li>\u5199\u51FA\u6070\u597D\u80FD\u4F7F\u6D4B\u8BD5\u901A\u8FC7\u7684\u4EE3\u7801</li><li>\u91CD\u6784\u521A\u521A\u5B9E\u73B0\u7684\u4EE3\u7801</li><li>\u91CD\u590D\u524D\u4E09\u6B65</li></ol><p>\u4E0B\u9762\u7684\u4E00\u5F20\u56FE\u53EF\u4EE5\u6E05\u695A\u7684\u660E\u767D\u7F16\u5199\u5355\u5143\u6D4B\u8BD5\u7684\u6D41\u7A0B\uFF1A <img src="'+h+'" alt="img.png"></p><p>\u5728\u6211\u4EEC\u73B0\u5728\u7684\u7F16\u7801\u8FC7\u7A0B\u4E2D\u662F\u9700\u8981\u4E0D\u65AD\u8C03\u8BD5\uFF0C\u4E0D\u65AD\u8BD5\u9519\uFF0C\u5E76\u4E14\u4E0D\u80FD\u4FDD\u8BC1\u4EE3\u7801\u662F\u7B80\u6D01\u7684\u3002\u800C\u201C\u7EA2-\u7EFF-\u91CD\u6784\u201D\u8FD9\u79CD\u65B9\u5F0F\u662F\u5148\u7528\u810F\u4E71\u4EE3\u7801\u8868\u8FBE\u51FA\u6765\uFF0C\u6D4B\u8BD5\u901A\u8FC7\u4E4B\u540E\u7ACB\u523B\u91CD\u6784\u521A\u5199\u7684\u4EE3\u7801\uFF0C\u8FD9\u662F\u4E00\u4E2A\u6301\u7EED\u7684\u5FAA\u73AF\u8FC7\u7A0B\uFF0C\u4E0D\u80FD\u662F\u5199\u4E86\u5F88\u591A\u5B9E\u73B0\u4EE3\u7801\u540E\u624D\u5F00\u59CB\u91CD\u6784\uFF0C\u5E94\u8BE5\u662F\u968F\u65F6\u91CD\u6784\u4F60\u521A\u521A\u5199\u51FA\u7684\u4EE3\u7801\uFF0C\u5F53\u4F60\u5B8C\u6210\u8FD9\u4E2A\u529F\u80FD\u7684\u65F6\u5019\uFF0C\u4F60\u7684\u4EE3\u7801\u5C31\u662F\u7B80\u6D01\u53EF\u7528\u7684\u3002</p><blockquote><p>\u91CD\u6784\u662F\u6539\u5584\u4EE3\u7801\u7ED3\u6784\u7684\u4E00\u79CD\u5B9E\u8DF5\uFF0C\u4F46\u91CD\u6784\u5E76\u4E0D\u4F1A\u6539\u53D8\u7531\u6D4B\u8BD5\u5B9A\u4E49\u7684\u884C\u4E3A\u3002</p><p>\u91CD\u6784\u4E0D\u5E94\u8BE5\u662F\u5355\u72EC\u62FF\u51FA\u6765\u82B1\u65F6\u95F4\u505A\u7684\u4E00\u4EF6\u4E8B\u60C5\uFF0C\u4E5F\u4E0D\u5E94\u8BE5\u51FA\u73B0\u5728\u9879\u76EE\u7684\u8BA1\u5212\u4E2D\u3002\u91CD\u6784\u5E94\u8BE5\u662F\u65E5\u5E38\u5F00\u53D1\u4E2D\u65F6\u65F6\u523B\u523B\u90FD\u5728\u8FDB\u884C\u7684\u6D3B\u52A8\uFF0C\u5B83\u5C31\u662F\u5F00\u53D1\u6D3B\u52A8\u4E2D\u4E0D\u53EF\u5206\u5272\u7684\u4E00\u90E8\u5206\u3002</p><p>\u91CD\u6784\u5E94\u8BE5\u662F\u5728<strong>\u4E0D\u7834\u574F\u4EFB\u4F55\u6D4B\u8BD5</strong>\u7684\u524D\u63D0\u4E0B\u5BF9\u547D\u540D\u3001\u7C7B\u3001\u51FD\u6570\u548C\u8868\u8FBE\u5F0F\u8FDB\u884C\u4FEE\u6539\u3002\u5728\u4E0D\u5F71\u54CD\u884C\u4E3A\u903B\u8F91\u7684\u60C5\u51B5\u4E0B<strong>\u6539\u5584</strong>\u7CFB\u7EDF\u7684\u7ED3\u6784\u3002</p></blockquote><p>\u901A\u8FC7\u4EE5\u4E0A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u51FA<strong>\u91CD\u6784</strong>\u662F\u9700\u8981 <strong>\u5B8C\u5907\u7684\u6D4B\u8BD5\u505A\u5B89\u5168\u7F51</strong> \uFF0C\u5C31\u662F\u8FD9\u5C42\u5B89\u5168\u7F51\u7ED9\u4E86\u6211\u4EEC\u91CD\u6784\u7684\u4FE1\u5FC3\u548C\u52C7\u6C14\u3002</p><h3 id="\u7B80\u5355\u8BBE\u8BA1\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5355\u8BBE\u8BA1\u539F\u5219" aria-hidden="true">#</a> \u7B80\u5355\u8BBE\u8BA1\u539F\u5219</h3><p><img src="'+_+'" alt=""></p><p>\u4F18\u5148\u7EA7\u4ECE\u4E0A\u81F3\u4E0B\u964D\u4F4E</p><ul><li>\u901A\u8FC7\u6D4B\u8BD5-\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u8BA9\u6D4B\u8BD5\u901A\u8FC7</li><li>\u63ED\u793A\u610F\u56FE-\u8868\u660E\u4EE3\u7801\u610F\u56FE</li><li>\u6D88\u9664\u91CD\u590D-\u53BB\u9664\u91CD\u590D\u4EE3\u7801</li><li>\u6700\u5C11\u5143\u7D20-\u4F7F\u7528\u6700\u5C11\u7684\u4EE3\u7801\u5B8C\u6210\u8FD9\u4E2A\u529F\u80FD</li></ul><h3 id="\u6D4B\u8BD5\u6761\u4EF6\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u6761\u4EF6\u683C\u5F0F" aria-hidden="true">#</a> \u6D4B\u8BD5\u6761\u4EF6\u683C\u5F0F</h3><p>\u5728\u6211\u4EEC\u7F16\u5199\u6D4B\u8BD5\u7528\u4F8B\u7684\u65F6\u5019\u901A\u5E38\u9075\u5FAA\u4EE5\u4E0B\u5F62\u5F0F\uFF1A</p><ul><li>Given-\u7ED9\u5B9A\u4E0A\u4E0B\u6587</li><li>When-\u6761\u4EF6\u3001\u884C\u4E3A\uFF0C\u89E6\u53D1\u4E00\u4E2A\u52A8\u4F5C\u6216\u8005\u4E8B\u4EF6</li><li>Then-\u5BF9\u671F\u671B\u7ED3\u679C\u7684\u9A8C\u8BC1</li></ul><h3 id="\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F-\u5BF9\u6BD4-tdd-\u7F16\u7801\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F-\u5BF9\u6BD4-tdd-\u7F16\u7801\u65B9\u5F0F" aria-hidden="true">#</a> \u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F \u5BF9\u6BD4 TDD \u7F16\u7801\u65B9\u5F0F</h3><h4 id="\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F" aria-hidden="true">#</a> <strong>\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F</strong></h4><p>\u9700\u6C42\u5206\u6790 -&gt; \u786E\u8BA4\u9700\u6C42\u7EC6\u8282 -&gt; \u5F00\u53D1 -&gt; \u8C03\u8BD5 -&gt; (\u52A0\u9700\u6C42 -&gt; \u5F00\u53D1 -&gt; \u8C03\u8BD5) -&gt;</p><p>QA \u6D4B\u8BD5 -&gt; \u63D0\u51FA bug -&gt; \u6539 bug\u3001\u6253\u8865\u4E01 -&gt; QA \u6D4B\u8BD5 -&gt; \u5B8C\u6210</p><p>\u6700\u7EC8\u7684\u4EE3\u7801\u5197\u4F59\u3001\u903B\u8F91\u6DF7\u4E71\uFF0C\u7A0D\u5FAE\u52A8\u4E00\u4E0B\uFF0C\u5C31\u53EF\u80FD\u6709\u672A\u77E5\u7684\u9519\u8BEF\u51FA\u73B0\uFF0C\u6539\u4E86\u4E4B\u540E\u8FD8\u8981 QA \u6D4B\u8BD5\uFF0C\u7136\u540E\u52A0\u73ED\u7EE7\u7EED\u6539\u2026</p><h4 id="tdd-\u7F16\u7801\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#tdd-\u7F16\u7801\u65B9\u5F0F" aria-hidden="true">#</a> <strong>TDD \u7F16\u7801\u65B9\u5F0F</strong></h4><ol><li>\u5148\u5206\u89E3\u4EFB\u52A1-\u5206\u79BB\u5173\u6CE8\u70B9</li><li>\u5217 Example-\u7528\u5B9E\u4F8B\u5316\u9700\u6C42\uFF0C\u6F84\u6E05\u9700\u6C42\u7EC6\u8282</li><li>\u5199\u6D4B\u8BD5-\u53EA\u5173\u6CE8\u9700\u6C42\uFF0C\u7A0B\u5E8F\u7684\u8F93\u5165\u8F93\u51FA\uFF0C\u4E0D\u5173\u5FC3\u4E2D\u95F4\u8FC7\u7A0B</li><li>\u5199\u5B9E\u73B0-\u4E0D\u8003\u8651\u522B\u7684\u9700\u6C42\uFF0C\u7528\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u6EE1\u8DB3\u5F53\u524D\u8FD9\u4E2A\u5C0F\u9700\u6C42\u5373\u53EF</li><li>\u91CD\u6784-\u7528\u624B\u6CD5\u6D88\u9664\u4EE3\u7801\u91CC\u7684\u574F\u5473\u9053</li><li>\u91CD\u590D 3\u30014\u30015 \u6B65\u9AA4</li><li>\u5199\u5B8C\u529F\u80FD-\u624B\u52A8\u6D4B\u8BD5\u4E00\u4E0B\uFF0C\u57FA\u672C\u6CA1\u4EC0\u4E48\u95EE\u9898\uFF0C\u6709\u95EE\u9898\u8865\u4E2A\u7528\u4F8B\uFF0C\u4FEE\u590D</li><li>\u8F6C\u6D4B\u8BD5-\u5C0F\u95EE\u9898\uFF0C\u8865\u7528\u4F8B\uFF0C\u4FEE\u590D</li><li>\u4EE3\u7801\u6574\u6D01\u4E14\u7528\u4F8B\u9F50\u5168\uFF0C\u4FE1\u5FC3\u6EE1\u6EE1\u5730\u4EA4\u4ED8\u4EE3\u7801</li></ol><h4 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h4><p>\u4ECE\u4E0A\u9762\u4E24\u4E2A\u6D41\u7A0B\u4E0D\u96BE\u770B\u51FA\uFF0C\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\u6700\u5927\u7684\u4F18\u70B9\u5C31\u662F<strong>\u91CD\u6784</strong>\u4E86\uFF0C\u4E0D\u65AD\u8FED\u4EE3\uFF0C\u4E0D\u65AD\u5730\u5BF9\u73B0\u6709\u4EE3\u7801\u8FDB\u884C\u91CD\u6784\uFF0C\u4E0D\u65AD\u4F18\u5316\u4EE3\u7801\u7684\u5185\u90E8\u7ED3\u6784\uFF0C\u6700\u7EC8\u5B9E\u73B0\u5BF9\u6574\u4F53\u4EE3\u7801\u7684\u6539\u8FDB\u3002\u4EE5\u6B64\u4E0D\u65AD\u51CF\u5C11\u4E00\u4E9B\u8BBE\u8BA1\u5197\u4F59\u3001\u4EE3\u7801\u5197\u4F59\u3001\u903B\u8F91\u590D\u6742\u5EA6\u7B49\u7B49\u3002</p><p>\u7F3A\u70B9\u5C31\u662F\u5B58\u5728 <strong>\u5C40\u9650\u6027</strong> \uFF0C\u5B83\u4E0D\u80FD\u53D1\u73B0\u96C6\u6210\u9519\u8BEF\u3001\u6027\u80FD\u95EE\u9898\u3001\u6216\u8005\u5176\u4ED6\u7CFB\u7EDF\u7EA7\u522B\u7684\u95EE\u9898\u3002\u8FD8\u8981\u6C42\u4E00\u5B9A\u662F <strong>\u597D\u7684\u6D4B\u8BD5\u7528\u4F8B</strong> \uFF0C\u5982\u679C\u6D4B\u8BD5\u4EE3\u7801\u592A\u590D\u6742\uFF0C\u90A3\u4E48\u6D4B\u8BD5\u4EE3\u7801\u672C\u8EAB\u5C31\u53EF\u80FD\u6709 bug\u3002</p><h3 id="bdd" tabindex="-1"><a class="header-anchor" href="#bdd" aria-hidden="true">#</a> BDD</h3><p>BDD, \u5373Behavior Driven Development(\u884C\u4E3A\u9A71\u52A8\u5F00\u53D1)\uFF0C\u7B80\u5355\u7684\u6765\u8BF4\u5C31\u662F\u5148\u7F16\u5199\u4E1A\u52A1\u903B\u8F91\u4EE3\u7801\uFF0C\u7136\u540E\u4EE5\u4F7F\u5F97\u6240\u6709\u4E1A\u52A1\u903B\u8F91\u6309\u7167\u9884\u671F\u7ED3\u679C\u6267\u884C\u4E3A\u76EE\u7684\uFF0C\u7F16\u5199\u6D4B\u8BD5\u4EE3\u7801\uFF0C\u662F\u4E00\u79CD\u4EE5\u7528\u6237\u884C\u4E3A\u6765\u9A71\u52A8\u5F00\u53D1\u8FC7\u7A0B\u7684\u5F00\u53D1\u6A21\u5F0F\u3002</p><p>BDD\u5B9E\u9645\u4E0A\u662F\u6A21\u62DF\u7528\u6237\u7684\u884C\u4E3A\uFF0C\u5728\u4E1A\u52A1\u4EE3\u7801\u5B8C\u6210\u540E\uFF0C\u7528\u6D4B\u8BD5\u7528\u4F8B\u6A21\u62DF\u7528\u6237\u7684\u64CD\u4F5C\u884C\u4E3A\uFF0C\u7531\u4E8E\u5173\u6CE8\u70B9\u4E0A\u5347\u5230\u4E86\u6574\u4E2A\u7CFB\u7EDF\u7684\u5C42\u9762\uFF0C\u6240\u4EE5\u4F7F\u7528\u96C6\u6210\u6D4B\u8BD5\uFF0C\u5E94\u8BE5\u5FFD\u7565\u7EC4\u4EF6\u4E2A\u4F53\u7684\u884C\u4E3A\uFF0C\u4FDD\u8BC1\u7CFB\u7EDF\u884C\u4E3A\u7684\u6D41\u7545\u3002</p><p>\u7531\u4E8E\u662F\u5148\u5B8C\u6210\u4E1A\u52A1\u4EE3\u7801\uFF0C\u518D\u505A\u6D4B\u8BD5\u3002</p><p>\u901A\u8FC7\u4E0A\u9762\u8FD9\u4E2Ademo\u53EF\u4EE5\u660E\u767D\u96C6\u6210\u6D4B\u8BD5\u76F8\u5BF9\u4E8E\u5355\u5143\u6D4B\u8BD5\uFF0C\u66F4\u591A\u4FA7\u91CD\u591A\u7EC4\u4EF6\u7684\u534F\u540C\uFF0C\u5047\u5982\u4E00\u4E2A\u7EC4\u4EF6\u672C\u8EAB\u6CA1\u6709\u95EE\u9898\uFF0C\u4F46\u4E0E\u5176\u4ED6\u7EC4\u4EF6\u914D\u5408\u7684\u65F6\u5019\u51FA\u95EE\u9898\u4E86\uFF0C\u90A3\u6574\u4E2A\u6D41\u7A0B\u662F\u4E0D\u4F1A\u901A\u8FC7\u6D4B\u8BD5\u7684\u3002</p><p>\u518D\u7ED3\u5408BDD\uFF0C\u4F7F\u5F00\u53D1\u65F6\u66F4\u52A0\u5173\u6CE8\u4E1A\u52A1\u4EE3\u7801\uFF0C\u4E0D\u5FC5\u5148\u5199\u7E41\u7410\u7684\u6D4B\u8BD5\u7528\u4F8B\u3002\u800C\u4E14\u53EA\u8981\u64CD\u4F5C\u6D41\u7A0B\u4E0D\u4F1A\u53D8\uFF0C\u90A3\u6D4B\u8BD5\u7528\u4F8B\u4E5F\u57FA\u672C\u4E0D\u7528\u52A8\uFF0C\u66F4\u52A0\u9002\u5408\u5E73\u65F6\u4E1A\u52A1\u7684\u5F00\u53D1\u3002</p><h3 id="\u6D4B\u8BD5\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u539F\u5219" aria-hidden="true">#</a> \u6D4B\u8BD5\u539F\u5219</h3><ol><li>\u4ECE\u771F\u5B9E\u7528\u6237\u7684\u884C\u4E3A\u6D41\u7A0B\u53BB\u6D4B\u8BD5\uFF0C\u5F80\u5F80\u6BD4\u6D4B\u51FD\u6570\u672C\u8EAB\uFF0C\u80FD\u7ED9\u4F60\u5E26\u6765\u66F4\u591A\u7684\u4FE1\u5FC3\u3002</li><li>\u5BF9\u4E8E\u6CA1\u6709\u72EC\u7ACB\u6027\u548C\u901A\u7528\u6027\u7684\u51FD\u6570\u6216\u5BF9\u8C61\uFF0C\u628A\u5B83\u4EEC\u89C6\u4F5C\u5B9E\u73B0\u7684\u4E00\u90E8\u5206\uFF0C\u4E00\u822C\u6CA1\u6709\u5FC5\u8981\u4E3A\u5B83\u4EEC\u53BB\u5199\u5355\u72EC\u7684\u6D4B\u8BD5\u3002\u4E0D\u8981\u62D8\u6CE5\u4E8E\u5BF9\u201C\u5355\u5143\u6D4B\u8BD5\u201D\u7684\u5B57\u9762\u7406\u89E3\uFF0C\u4E0D\u8981\u88AB\u5F62\u5F0F\u4E0A\u7684\u89C4\u5F8B\u6240\u675F\u7F1A\u3002</li><li>\u4E0D\u8981\u628A\u6D4B\u8BD5\u8986\u76D6\u7387\u89C6\u4E3A\u592A\u8FC7\u91CD\u8981\u7684\u6307\u6807\uFF0C\u5B83\u7684\u76EE\u7684\u8FD8\u662F\u5E2E\u52A9\u63D0\u5347\u4EE3\u7801\u7684\u7A33\u5B9A\u3002\u6709\u7684\u4EE3\u7801\u6CA1\u6709\u8986\u76D6\u4E5F\u6CA1\u5173\u7CFB\uFF0C\u6709\u7684\u4EE3\u7801\u503C\u5F97\u4F60\u8986\u76D6\u597D\u591A\u904D\u3002\u6BD5\u7ADF\uFF0C\u6211\u4EEC\u4E0D\u662F\u4E3A\u4E86\u5199\u6D4B\u8BD5\u800C\u5199\u6D4B\u8BD5\u3002</li></ol><h2 id="react\u9879\u76EE\u5982\u4F55\u914D\u7F6Ejest\u548Crtl" tabindex="-1"><a class="header-anchor" href="#react\u9879\u76EE\u5982\u4F55\u914D\u7F6Ejest\u548Crtl" aria-hidden="true">#</a> React\u9879\u76EE\u5982\u4F55\u914D\u7F6EJest\u548CRTL</h2>',43),qs=n("\u901A\u8FC7 "),xs={href:"https://create-react-app.dev/",target:"_blank",rel:"noopener noreferrer"},ws=s("code",null,"create-react-app",-1),Ds=n(" \u521B\u5EFA\u7684\u9879\u76EE\u4EE5\u53CA\u9ED8\u8BA4\u914D\u7F6E\u597D"),Ts=s("code",null,"Jest",-1),Es=n("\u548C"),Is=s("code",null,"RTL",-1),Fs=n("(React Test Library)\uFF0C\u5F00\u7BB1\u5373\u7528\uFF0C\u80FD\u57FA\u672C\u6EE1\u8DB3\u7EDD\u5927\u591A\u6570\u9700\u6C42\uFF0CCRA\u6D89\u53CA\u7684\u4F9D\u8D56\u5305\u6709\uFF1A"),Us=o("<ul><li><code>babel</code>\uFF0C\u5305\u62EC<code>babel-jest</code>, <code>@babel/core</code>, <code>@babel/preset-env</code>\uFF0C\u4F7F\u7528babel\u80AF\u5B9A\u662F\u4E3A\u4E86\u8F6C\u8BD1\uFF0C\u6BD4\u5982nodejs \u91C7\u7528\u7684\u662F CommonJS \u7684\u6A21\u5757\u5316\u89C4\u8303\uFF0C\u4F7F\u7528 require \u5F15\u5165\u6A21\u5757\uFF1B\u800C import \u662F ES6 \u7684\u6A21\u5757\u5316\u89C4\u8303\u5173\u952E\u5B57\u3002\u4E3A\u4E86\u80FD\u4F7F\u7528\u8FD9\u4E9B\u65B0\u7279\u6027\uFF0C\u5C31\u9700\u8981\u4F7F\u7528 babel \u628A ES6 \u8F6C\u6210 ES5 \u8BED\u6CD5\u3002</li><li><code>jest</code>,<code>jest-resolve</code>,<code>jest-watch-typeahead</code>(jest watch\u7684\u65F6\u5019\u4F7F\u7528\u8FD9\u4E2A\u6839\u636E\u6587\u4EF6\u540D\u6216\u8005\u6D4B\u8BD5\u540D\u79F0\u53BB\u7B5B\u9009)</li><li>RTL: <code>@testing-library/jest-dom</code>\u3001<code>@testing-library/react</code>\u3001<code>@testing-library/user-event</code></li></ul><p>\u53EF\u4EE5\u901A\u8FC7<code>npm run eject</code>\u770B\u5230\u76F8\u5173\u5B8C\u6574\u7684\u914D\u7F6E\u548C\u811A\u672C\u7B49\u3002</p>",2),Ms=n("\u63A5\u4E0B\u6765\u5C06\u901A\u8FC7\u4F7F\u7528"),As=s("code",null,"pnpm create vite vite-react-test-guide -- --template react-ts",-1),Js=n("\uFF0C\u521B\u5EFA\u57FA\u4E8E"),Bs={href:"https://cn.vitejs.dev/guide/",target:"_blank",rel:"noopener noreferrer"},Ss=n("vite"),Ns=n(" \u6784\u5EFA\u6784\u5EFA\u5DE5\u5177\u7684base\u9879\u76EE\u5C55\u793A\u5982\u4F55\u914D\u7F6E\u7684\uFF0C\u6BD4\u8F83\u7B80\u5355\uFF0C\u5927\u90E8\u5206\u662F\u914D\u7F6Ejest\u7684\uFF0C\u53EF\u5148\u53C2\u8003\u5B98\u7F51\u7684"),Cs={href:"https://jestjs.io/docs/getting-started",target:"_blank",rel:"noopener noreferrer"},Ls=n("getting started"),$s=n(","),Rs=o(`<h3 id="\u5B89\u88C5\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u4F9D\u8D56" aria-hidden="true">#</a> \u5B89\u88C5\u4F9D\u8D56</h3><p>\u9996\u5148\u9700\u8981\u5B89\u88C5\u6240\u9700\u8981\u7684\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> jest @types/jest -D

<span class="token comment">## babel\u662F\u53EF\u9009\u7684\u8F6C\u8BD1\u5668\u4E4B\u4E00 or ts-jest</span>
<span class="token function">pnpm</span> <span class="token function">install</span> babel-jest @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript -D
<span class="token comment"># or</span>
<span class="token function">pnpm</span> i ts-jest -D

<span class="token function">pnpm</span> <span class="token function">install</span> @testing-library/jest-dom @testing-library/react @testing-library/user-event @types/testing-library__jest-dom -D
<span class="token function">pnpm</span> <span class="token function">install</span> identity-obj-proxy -D
pmpm <span class="token function">install</span> eslint-plugin-jest -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="babel" tabindex="-1"><a class="header-anchor" href="#babel" aria-hidden="true">#</a> babel?</h3><p>\u6211\u4EEC\u90FD\u77E5\u9053babel\u5176\u5B9E\u5C31\u662F\u4E2A\u7F16\u8BD1\u5668\uFF0C<code>Jest</code> \u76EE\u524D\u652F\u6301\u7684\u662F <code>cjs</code> \u89C4\u8303\uFF0C\u672C\u8D28\u4E0A\u4E5F\u662F\u56E0\u4E3A\u5982\u4E0A\u63D0\u5230\u7684node\u4E5F\u662F</p><p>\u6BD4\u5982\u5728\u672A\u505A\u4EFB\u4F55\u914D\u7F6E\u7684\u60C5\u51B5\u4E0B\u521B\u5EFA\u5982\u4E0B\u7B80\u5355\u7684\u6D4B\u8BD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// sum.js</span>
<span class="token comment">// function sum(a, b) {</span>
<span class="token comment">//   return a + b</span>
<span class="token comment">// }</span>
<span class="token comment">//</span>
<span class="token comment">// module.exports = sum</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6D4B\u8BD5\u811A\u672C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// sum.test.js</span>
<span class="token comment">// const sum = require(&#39;./sum&#39;)</span>
<span class="token comment">//</span>
<span class="token comment">// test(&#39;adds 1 + 2 to equal 3&#39;, () =&gt; {</span>
<span class="token comment">//   expect(sum(1, 2)).toBe(3)</span>
<span class="token comment">// })</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./sum&#39;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;adds 1 + 2 to equal 3&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,9),Os=n("\u5982\u56FE\u6240\u793A\uFF0C\u4F7F\u7528"),Ps=s("code",null,"cjs",-1),Vs=n("\u4E0D\u4F1A\u62A5\u9519\uFF0C\u800C\u4F7F\u7528"),Ws=s("code",null,"esm",-1),zs=n("\u5C31\u4E0D\u652F\u6301\u3002\u5176\u5B9Enode\u572813.2.0 \u7248\u672C\u5C31\u6B63\u5F0F\u652F\u6301"),Gs=s("code",null,"esm",-1),Qs=n("\u4E86\uFF0C\u6240\u4EE5\u5982\u679C\u60F3\u76F4\u63A5\u652F\u6301"),Xs=s("code",null,"esm",-1),Hs=n(", \u53EF\u53C2\u8003"),Ks={href:"https://jestjs.io/docs/ecmascript-modules",target:"_blank",rel:"noopener noreferrer"},Ys=n("\u5B98\u65B9\u6587\u6863"),Zs=n(" \u3002\u76EE\u524D\u90FD\u662F\u5B9E\u9A8C\u6027\u8D28\u7684\u5F00\u542F\uFF0C\u8FD9\u91CC\u4E0D\u518D\u5C1D\u8BD5\u548C\u6DF1\u7A76\u4E86\u3002"),sn=s("p",null,[s("img",{src:g,alt:""})],-1),nn=n("\u5F53\u7136\u9664\u4E86\u4EE5\u4E0A\uFF0C\u6BD4\u5982\u8981\u652F\u6301"),an=s("code",null,"typescript",-1),en=n("\u4E5F\u662F\u4F7F\u7528\u7684"),tn=s("code",null,"@babel/preset-typescript",-1),pn=n("\u53BB\u505A\u7684\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C"),on=s("code",null,"@babel/preset-typescript",-1),cn=n(" \u53EA\u505A\u8BED\u6CD5\u8F6C\u6362\uFF0C\u4E0D\u505A\u7C7B\u578B\u68C0\u67E5\uFF0C\u56E0\u4E3A\u7C7B\u578B\u68C0\u67E5\u7684\u4EFB\u52A1\u53EF\u4EE5\u4EA4\u7ED9 "),rn=s("code",null,"tsc",-1),ln=n(" \uFF08\u6216\u8005\u7528 "),un=s("code",null,"IDE",-1),dn=n("\uFF09\u53BB\u505A\uFF0C\u6216\u8005\u4F7F\u7528"),bn={href:"https://jestjs.io/docs/next/getting-started#via-ts-jest",target:"_blank",rel:"noopener noreferrer"},kn=n("ts-jest"),mn=n(" \u53BB\u505A\u3002"),hn=o("<p><code>Jest</code> \u8FD0\u884C\u65F6\u5185\u90E8\u5148\u6267\u884C<code>babel-jest</code>, \u68C0\u6D4B\u662F\u5426\u5B89\u88C5 <code>babel-core</code>\uFF0C\u7136\u540E\u53D6 <code>.babelrc</code>(\u6216\u8005<code>babel.config.js</code>/<code>package.json</code>) \u4E2D\u7684\u914D\u7F6E\uFF0C\u8FD0\u884C\u6D4B\u8BD5\u4E4B\u524D\u7ED3\u5408 <code>babel</code> \u5148\u628A\u6D4B\u8BD5\u7528\u4F8B\u4EE3\u7801\u8F6C\u6362\u4E00\u904D\u7136\u540E\u518D\u8FDB\u884C\u6D4B\u8BD5\u3002</p>",1),_n=n("\u53EF\u4EE5\u9884\u89C1\u5230\uFF0C\u4E3A\u4E86"),gn=s("code",null,"jest",-1),fn=n("\u4F1A\u4E0D\u4F9D\u8D56\u4E0E"),jn=s("code",null,"babel\\babel-jest",-1),vn=n("\uFF0C\u5305\u62EC\u73B0\u5728\u5C31\u5728\u505A\u5B9E\u9A8C\u6027\u8D28\u7684\u5C1D\u8BD5\uFF0C\u5B98\u7F51\u5C31\u63D0\u5230\u8FC7"),yn={href:"https://jestjs.io/blog/2020/05/05/jest-26",target:"_blank",rel:"noopener noreferrer"},qn=s("code",null,"Once V8 coverage and native ESM support stabilizes in Jest, we will also be able remove babel-jest as a default but we will keep maintaining it.",-1),xn=n(" \u603B\u4E4B\u5C31\u7B49node.js ESM\u7279\u6548\u7A33\u5B9A\u54AF, "),wn={href:"https://jestjs.io/blog/2022/04/25/jest-28#ecmascript-modules",target:"_blank",rel:"noopener noreferrer"},Dn=n("v28\u4E5F\u4E0D\u884C"),Tn=o(`<p>\u914D\u7F6E\u6587\u4EF6\uFF0Cbabel.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token string">&#39;current&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@babel/preset-react&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@babel/preset-typescript&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token comment">// https://zh-hans.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html#manual-babel-setup</span>
      <span class="token string">&#39;@babel/plugin-transform-react-jsx&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">runtime</span><span class="token operator">:</span> <span class="token string">&#39;automatic&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div>`,2),En=n("\u5728vite\u4E0B\u4F7F\u7528Jest, \u5E94\u8BE5\u53EF\u4EE5\u8003\u8651\u4E0D\u8981babel\uFF0C\u6BD4\u5982\u7528"),In={href:"https://www.npmjs.com/package/esbuild-jest",target:"_blank",rel:"noopener noreferrer"},Fn=s("code",null,"esbuild-jest",-1),Un=n(" \u53BBtransform file\uFF0C\u6BD5\u7ADFvite\u4E5F\u662F\u57FA\u4E8Eesbuild\u7684\uFF0C\u8FD9\u4E2A\u540E\u9762\u5C1D\u8BD5\u4E0B"),Mn=o(`<h4 id="\u4E3A\u4EC0\u4E48cra\u521B\u5EFA\u7684ts\u6A21\u7248\u9879\u76EEpackage-json\u6CA1\u6709-babel-preset-react-babel-preset-typescript" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48cra\u521B\u5EFA\u7684ts\u6A21\u7248\u9879\u76EEpackage-json\u6CA1\u6709-babel-preset-react-babel-preset-typescript" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48CRA\u521B\u5EFA\u7684ts\u6A21\u7248\u9879\u76EEpackage.json\u6CA1\u6709<code>@babel/preset-react @babel/preset-typescript</code></h4><p>\u88AB\u96C6\u6210\u5230<code>babel-preset-react-app</code>\u5305\u7684dependencies\u4E2D\u4E86\uFF0C\u8FD9\u4E2A\u5305\u5C31\u662F\u5305\u542B<code>Babel preset</code>\u7684\uFF0C\u53EA\u662F\u4E00\u4E2A\u5408\u96C6\uFF0C\u5728cra\u9879\u76EE\u7684package.json\u4E2D\u53EF\u4EE5\u770B\u5230\u5982\u4E0B\u914D\u7F6E</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;babel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;react-app&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,3),An={id:"\u4F7F\u7528ts-jest-\u4EE3\u66FFbabel",tabindex:"-1"},Jn=s("a",{class:"header-anchor",href:"#\u4F7F\u7528ts-jest-\u4EE3\u66FFbabel","aria-hidden":"true"},"#",-1),Bn=n(" \u4F7F\u7528"),Sn={href:"https://kulshekhar.github.io/ts-jest/docs/",target:"_blank",rel:"noopener noreferrer"},Nn=n("ts-jest"),Cn=n(" \u4EE3\u66FF"),Ln=s("code",null,"babel",-1),$n=o(`<p>\u4EE5\u4E0A\u7528<code>babel</code>\u642D\u5EFA\u6D4B\u8BD5\u73AF\u5883\uFF0C\u4F46\u9879\u76EE\u672C\u8EAB\u662F\u57FA\u4E8Evite + typescript\u7684\uFF0C\u4F7F\u7528<code>babel</code>\u592A\u8FC7\u5197\u4F59\uFF0C\u4E14\u8FD8\u4E0D\u652F\u6301\u7C7B\u578B\u68C0\u67E5\uFF0C\u4E8E\u662F\u4F7F\u7528<code>ts-jest</code>\u4EE3\u66FF\u3002</p><p>\u9996\u5148\u79FB\u9664\u76F8\u5173\u4F9D\u8D56\u548C<code>babel</code>\u914D\u7F6E</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> remove babel-jest @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript @babel/plugin-transform-react-jsx -D
<span class="token function">pnpm</span> i ts-jest -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>\u6CE8\u610F\uFF0C\u8FD9\u91CC ts-jest \u4E00\u5B9A\u8981\u548C jest \u7684\u5927\u7248\u672C\u4E00\u81F4\uFF01 \u6BD4\u5982 27 \u5BF9 27\uFF0C\u6216\u8005 26 \u5BF9 26\uFF0C\u5426\u5219\u4F1A\u6709\u517C\u5BB9\u95EE\u9898\uFF01</p></div><p>\u5F53\u7136\u8FD8\u5F97\u5B89\u88C5typescript + tsconfig.json \u7684\u8BBE\u7F6E\uFF0C\u521B\u5EFA\u7684\u6A21\u7248\u9879\u76EE\u5DF2\u914D\u7F6E\u597D\uFF0C\u4F46\u9700\u65B0\u589E\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@testing-library/jest-dom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u8FD9\u6837TS \u5C31\u80FD\u627E\u5230\u5982<code>describe</code> \u548C <code>it</code> \u7684\u7C7B\u578B\u5B9A\u4E49\u3002</p><p>\u5E76\u4E14\u9700\u8981\u5728jest.config.ts\u4E2D\u4FEE\u6539\u5982\u4E0B\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 transform<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#39;\\\\.[jt]sx?$&#39;: &#39;babel-jest&#39;,</span>
  <span class="token string-property property">&#39;\\\\.[jt]sx?$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;ts-jest&#39;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&#39;</span><span class="token operator">:</span>
          <span class="token string">&#39;&lt;rootDir&gt;/jest/fileTransformer.js&#39;</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6216\u8005\u5982\u4E0B\u914D\u7F6Ejest.config.ts:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// https://stackoverflow.com/questions/66465339/how-to-make-ts-jest-work-with-import-export-syntax-of-the-js-files-that-are-bein</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  globals<span class="token operator">:</span> <span class="token punctuation">{</span>
      extensionsToTreatAsEsm<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;ts-jest&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          useESM<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  preset<span class="token operator">:</span> <span class="token string">&#39;ts-jest/presets/js-with-ts-esm&#39;</span><span class="token punctuation">,</span>

  <span class="token comment">// from https://stackoverflow.com/a/57916712/15076557</span>
  transformIgnorePatterns<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#39;node_modules/(?!(module-that-needs-to-be-transformed)/)&#39;</span> 
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6</h3><p>\u9996\u5148\u9700\u8981\u6DFB\u52A0\u6D4B\u8BD5\u811A\u672C\u547D\u4EE4</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="jest-config-js" tabindex="-1"><a class="header-anchor" href="#jest-config-js" aria-hidden="true">#</a> jest.config.js</h4><p>\u53EF\u901A\u8FC7<code>jest --init</code>\u751F\u6210\u7C97\u7565\u7684\u914D\u7F6E.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
 * For a detailed explanation regarding each configuration property and type check, visit:
 * https://jestjs.io/docs/configuration
 */</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">testEnvironment</span><span class="token operator">:</span> <span class="token string">&#39;jsdom&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">setupFilesAfterEnv</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;&lt;rootDir&gt;/src/setupTests.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">moduleNameMapper</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;\\\\.(css|sass|scss)$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;identity-obj-proxy&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u662F\u5426\u663E\u793A\u8986\u76D6\u7387\u62A5\u544A</span>
    <span class="token literal-property property">collectCoverage</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u4E0B\u9762\u662Fcra\u4E2D\u7684\u914D\u7F6E\uFF0C\u653E\u5728\u4E86package.json\u4E2D</p><details class="custom-container details"><summary>\u70B9\u51FB\u67E5\u770B\u4EE3\u7801</summary><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;jest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;roots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;rootDir&gt;/src&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collectCoverageFrom&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;src/**/*.{js,jsx,ts,tsx}&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;!src/**/*.d.ts&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;setupFiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;react-app-polyfill/jsdom&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;setupFilesAfterEnv&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;rootDir&gt;/src/setupTests.ts&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;testMatch&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;&lt;rootDir&gt;/src/**/__tests__/**/*.{js,jsx,ts,tsx}&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;&lt;rootDir&gt;/src/**/*.{spec,test}.{js,jsx,ts,tsx}&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;testEnvironment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jsdom&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;transform&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;^.+\\\\.(js|jsx|mjs|cjs|ts|tsx)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;rootDir&gt;/config/jest/babelTransform.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;^.+\\\\.css$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;rootDir&gt;/config/jest/cssTransform.js&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;^(?!.*\\\\.(js|jsx|mjs|cjs|ts|tsx|css|json)$)&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;rootDir&gt;/config/jest/fileTransform.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;transformIgnorePatterns&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|mjs|cjs|ts|tsx)$&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;^.+\\\\.module\\\\.(css|sass|scss)$&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;modulePaths&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleNameMapper&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;^react-native$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-native-web&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;^.+\\\\.module\\\\.(css|sass|scss)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleFileExtensions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;web.js&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;web.ts&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;ts&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;web.tsx&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;tsx&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;web.jsx&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;jsx&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;node&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;watchPlugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;jest-watch-typeahead/filename&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;jest-watch-typeahead/testname&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;resetMocks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div></details>`,19),Rn={id:"identity-obj-proxy-\u662F\u4E2A\u4EC0\u4E48\u9B3C",tabindex:"-1"},On=s("a",{class:"header-anchor",href:"#identity-obj-proxy-\u662F\u4E2A\u4EC0\u4E48\u9B3C","aria-hidden":"true"},"#",-1),Pn=n(),Vn={href:"https://www.npmjs.com/package/identity-obj-proxy",target:"_blank",rel:"noopener noreferrer"},Wn=n("identity-obj-proxy"),zn=n(" \u662F\u4E2A\u4EC0\u4E48\u9B3C\uFF1F"),Gn=o(`<p>\u5728jest\u914D\u7F6E\u4E2D\uFF0C\u4F1A\u6709\u5982\u4E0B\u7684\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token string-property property">&quot;moduleNameMapper&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;\\\\.(css|sass|scss)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// in cra</span>
    <span class="token string-property property">&quot;moduleNameMapper&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;^react-native$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-native-web&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;^.+\\\\.module\\\\.(css|sass|scss)$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;identity-obj-proxy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,2),Qn=n("\u5173\u4E8E\u8BE5\u914D\u7F6E\u5B57\u6BB5\u7684"),Xn={href:"https://jestjs.io/docs/next/configuration#modulenamemapper-objectstring-string--arraystring",target:"_blank",rel:"noopener noreferrer"},Hn=n("\u63CF\u8FF0\u6587\u6863"),Kn=n(" \u5982\u4E0B\u6240\u8FF0\uFF1A"),Yn=s("blockquote",null,[s("p",null,"A map from regular expressions to module names that allow to stub out resources, like images or styles with a single module.")],-1),Zn=n("\u5C31\u662F\u7528\u6765 "),sa={href:"https://stackoverflow.com/questions/4029313/what-is-a-stub-routine",target:"_blank",rel:"noopener noreferrer"},na=n("stub"),aa=n(" \u4E00\u4E9B\u8D44\u6E90\u6587\u4EF6\u6216 "),ea=s("code",null,"module ",-1),ta=n("\u4F7F\u7528\u7684\uFF0C\u53EF\u4EE5\u628A\u5339\u914D\u5230\u7684\u5185\u5BB9\u6620\u5C04\u4E3A\u4F60\u6307\u5B9A\u7684\u5185\u5BB9\uFF0C\u54EA\u6015\u662F\u201C\u6307\u9E7F\u4E3A\u9A6C\u201D\u4E5F\u662F\u884C\u5F97\u901A\u7684\uFF01\u5728\u524D\u7AEF\u7684\u5355\u5143\u6D4B\u8BD5\u4E2D\uFF0C\u65F6\u5E38\u6709\u8BB8\u591A\u5185\u5BB9\u662F\u4E0D\u9700\u8981\u7684\uFF0C\u6BD4\u5982\uFF1A\u9759\u6001\u8D44\u6E90\u3001\u6837\u5F0F\u6587\u4EF6\u7B49\u3002\u90A3\u4E48\u8FD9\u4E2A\u65F6\u5019\u5C31\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u201C\u9E7F\u201D\u6307\u6210\u201C\u9A6C\u201D\u4E86\u3002"),pa=n("\u800C"),oa={href:"https://github.com/keyz/identity-obj-proxy#readme",target:"_blank",rel:"noopener noreferrer"},ca=s("code",null,"identity-obj-proxy",-1),ra=n(" \u5C31\u662F\u7528\u6765\u5E72\u8FD9\u4E2A\u4E8B\u60C5\u7684"),la={id:"eslint-plugin-jest",tabindex:"-1"},ia=s("a",{class:"header-anchor",href:"#eslint-plugin-jest","aria-hidden":"true"},"#",-1),ua=n(),da={href:"https://www.npmjs.com/package/eslint-plugin-jest",target:"_blank",rel:"noopener noreferrer"},ba=n("eslint-plugin-jest"),ka=n("?"),ma=o(`<p>\u89E3\u51B3eslint\u5173\u4E8Ejest\u7684\u62A5\u9519\uFF0C\u6BD4\u5982<code>ESLint: &#39;test&#39; is not defined.(no-undef)</code>\u4E4B\u7C7B\u7684\uFF0C\u56E0\u4E3AJest\u7684Api\u662F\u5168\u5C40\u4E0D\u9700\u8981<code>import</code>\u7684\u3002</p><p>\u989D\u5916\u7684\u8FD8\u53EF\u4EE5\u8865\u5168eslint\u7684\u6D4B\u8BD5\u63D2\u4EF6\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">pnpm</span> i eslint-plugin-jest-dom eslint-plugin-testing-library
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5982\u4F55\u914D\u7F6E\u53EF\u4EE5\u53C2\u8003\u5B89\u88C5\u540Epackage\u7684<code>README.md</code>\u6587\u4EF6</p><h4 id="setupfiles-setupfilesafterenv" tabindex="-1"><a class="header-anchor" href="#setupfiles-setupfilesafterenv" aria-hidden="true">#</a> setupFiles/setupFilesAfterEnv</h4>`,5),ha=n("\u5F88\u591A\u4EBA\u90FD\u77E5\u9053 Jest \u7684 "),_a=s("code",null,"setupFiles",-1),ga=n("\uFF0C\u4F46\u4E0D\u592A\u4E86\u89E3 "),fa={href:"https://jestjs.io/docs/configuration#setupfiles-array",target:"_blank",rel:"noopener noreferrer"},ja=s("code",null,"setupFilesAfterEnv",-1),va=n(","),ya=o('<p><img src="'+f+'" alt=""></p><p>\u7B80\u5355\u6765\u8BF4\uFF1A</p><ul><li><code>setupFiles</code> \u662F\u5728 <strong>\u5F15\u5165\u6D4B\u8BD5\u73AF\u5883\uFF08\u6BD4\u5982\u4E0B\u9762\u7684 <code>jsdom</code>\uFF09\u4E4B\u540E</strong> \u6267\u884C\u7684\u4EE3\u7801</li><li><code>setupFilesAfterEnv</code> \u5219\u662F\u5728 <strong>\u5B89\u88C5\u6D4B\u8BD5\u6846\u67B6\u4E4B\u540E</strong> \u6267\u884C\u7684\u4EE3\u7801</li></ul><p>\u5177\u4F53\u5E94\u7528\u573A\u666F\u662F\uFF1A\u5728 <code>setupFiles</code> \u53EF\u4EE5\u6DFB\u52A0 <strong>\u6D4B\u8BD5\u73AF\u5883</strong> \u7684\u8865\u5145\uFF0C\u6BD4\u5982 Mock \u5168\u5C40\u53D8\u91CF <code>abcd</code> \u7B49\u3002\u800C\u5728 <code>setupFilesAfterEnv</code> \u53EF\u4EE5\u5F15\u5165\u548C\u914D\u7F6E <strong>Jest/Jasmine\uFF08Jest \u5185\u90E8\u4F7F\u7528\u4E86 Jasmine\uFF09</strong> \u63D2\u4EF6\u3002</p>',4),qa=n("\u5982\u679C\u8BD5\u56FE\u5728 "),xa=s("code",null,"setupFiles",-1),wa=n(" \u6DFB\u52A0 Jest \u7684\u6269\u5C55/\u63D2\u4EF6\uFF0C\u90A3\u4E48\u4F60\u53EF\u80FD\u4F1A\u5F97\u5230 "),Da=s("code",null,"expect is not defined",-1),Ta=n(" \u62A5\u9519\u3002"),Ea={href:"https://github.com/testing-library/jest-dom/issues/122#issuecomment-650520461",target:"_blank",rel:"noopener noreferrer"},Ia=n("\u8BE6\u89C1\u8FD9\u4E2A Issue"),Fa=n(" \u3002"),Ua=o(`<p>\u4E00\u822C\u7528setupFiles\u8BBE\u7F6E<code>.env</code>\u73AF\u5883\u53D8\u91CF\uFF0C\u4F7F\u7528setupFilesAfterEnv\u8BBE\u7F6Ejest\u7684\u914D\u7F6E\u6BD4\u5982<code>jest.setTimeout(70000)</code></p><p>jest.config.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">setupFiles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;&lt;rootDir&gt;/tests/settings/env-setup.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">setupFilesAfterEnv</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;&lt;rootDir&gt;/testSetupFile.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>env-setup.ts</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> dotenv <span class="token keyword">from</span> <span class="token string">&#39;dotenv&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">============ env-setup Loaded ===========</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dotenv<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;tests&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;settings&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.test.env&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>testSetupFile.ts</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Some of the \`jest\` tests are very slow and cause</span>
<span class="token comment">// timeouts on bitbucket pipeline</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">============ testSetupFile Loaded ===========</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token number">70000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5728\u6839\u76EE\u5F55src\u65B0\u5EFA <code>setupTests.ts</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;@testing-library/jest-dom&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E00\u6B21\u5F15\u7528\uFF0C\u4E0D\u8981\u518D\u6B21import</p><h4 id="jsdom-\u6D4B\u8BD5\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#jsdom-\u6D4B\u8BD5\u73AF\u5883" aria-hidden="true">#</a> jsdom \u6D4B\u8BD5\u73AF\u5883</h4><p><code>jest</code> \u63D0\u4F9B\u4E86 <code>testEnvironment</code> \u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">testEnvironment</span><span class="token operator">:</span> <span class="token string">&quot;jsdom&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,13),Ma=n("\u6DFB\u52A0 "),Aa=s("code",null,"jsdom",-1),Ja=n(" \u6D4B\u8BD5\u73AF\u5883\u540E\uFF0C\u5168\u5C40\u4F1A\u81EA\u52A8\u62E5\u6709\u5B8C\u6574\u7684\u6D4F\u89C8\u5668\u6807\u51C6 API\u3002"),Ba=n("\u539F\u7406\u662F\u4F7F\u7528\u4E86 "),Sa={href:"https://github.com/jsdom/jsdom",target:"_blank",rel:"noopener noreferrer"},Na=n("jsdom"),Ca=n(" \u3002 \u8FD9\u4E2A\u5E93\u7528 JS \u5B9E\u73B0\u4E86\u4E00\u5957 Node.js \u73AF\u5883\u4E0B\u7684 Web \u6807\u51C6 API\u3002"),La=n(" \u7531\u4E8E Jest \u7684\u6D4B\u8BD5\u6587\u4EF6\u4E5F\u662F Node.js \u73AF\u5883\u4E0B\u6267\u884C\u7684\uFF0C\u6240\u4EE5 Jest \u7528\u8FD9\u4E2A\u5E93\u5145\u5F53\u4E86\u6D4F\u89C8\u5668\u73AF\u5883\u7684 Mock \u5B9E\u73B0\u3002"),$a=o(`<h3 id="\u8DEF\u5F84\u7B80\u5199" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u5F84\u7B80\u5199" aria-hidden="true">#</a> \u8DEF\u5F84\u7B80\u5199</h3><p>\u8DEF\u5F84\u7B80\u5199\u5373path alias, \u6BD4\u5982<code>../../src/utils/sum</code> \u8FD9\u4E48\u957F\u7684\u8DEF\u5F84\u7B80\u5199\u6210 <code>utils/sum</code>\uFF0C \u8FD9\u4E5F\u662F\u5F88\u591A\u5927\u578B\u9879\u76EE\u7684\u5FC5\u5907\u914D\u7F6E\u4E86 \u2014\u2014 <strong>\u8DEF\u5F84\u7B80\u5199/\u522B\u540D</strong>\u3002</p><p>\u8981\u5B9E\u73B0\u8FD9\u6837\u7684\u6548\u679C\uFF0C\u53EF\u4EE5\u5728 <code>moduleDirectories</code> \u6DFB\u52A0 <code>&quot;src&quot;</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// jest.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">moduleDirectories</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u8FD9\u6837\u4E00\u6765 <code>jest</code> \u5C31\u80FD\u770B\u61C2 <code>utils/sum</code> \u5BF9\u5E94\u7684\u662F <code>../../src/utils/sum</code>\uFF0C\u4F46\u662F\uFF0C<code>tsc</code> \u53C8\u770B\u4E0D\u61C2\uFF0C\u6240\u4EE5\u8FD8\u5F97\u5728 <code>tsconfig.json</code> \u91CC\u6307\u5B9A <code>paths</code> \u8DEF\u5F84\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;utils/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/utils/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u89E3\u91CA\u4E00\u4E0B\uFF0C <strong>\u6240\u8C13\u7684 \u201C\u8DEF\u5F84\u7B80\u5199\u201D \u672C\u8D28\u4E0A\u53EA\u662F\u8DEF\u5F84\u6620\u5C04\u3002\u6240\u4EE5 <code>tsconfig.json</code> \u91CC\u7684 <code>paths</code> \u5C31\u662F\u628A <code>utils/xxx</code> \u6620\u5C04\u6210 <code>src/utils/xxx</code>\uFF0C \u800C <code>jest.config.js</code> \u91CC\u7684 <code>moduleDirectories</code> \u5219\u7A0D\u5FAE\u72E0\u4E00\u70B9\uFF0C\u76F4\u63A5\u628A <code>utils/sum</code> \u5F53\u4F5C\u7B2C\u4E09\u65B9\u6A21\u5757\uFF0C\u5148\u5728 <code>node_modules</code> \u91CC\u627E\uFF0C\u627E\u4E0D\u5230\u518D\u4ECE <code>src/xxx</code> \u4E0B\u53BB\u627E\u3002 \u6240\u4EE5\u8FD9\u4E24\u8005\u662F\u6709\u533A\u522B\u7684\u3002</strong></p><p>\u4E00\u822C\u53EF\u80FD\u4E0D\u4F1A\u8FD9\u4E48\u5199\uFF0C\u800C\u662F\u7528\u522B\u540D\u4F5C\u4E3A\u8DEF\u5F84\u5F00\u5934\uFF1A<code>import sum from &quot;@/utils/sum&quot;</code>\u3002\u8FD9\u4F9D\u65E7\u662F\u8DEF\u5F84\u5339\u914D\uFF0C<code>tsconfig.json</code> \u7684\u914D\u7F6E\u76F8\u5F53\u7B80\u5355\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u4F46\u5BF9 Jest \u7684\u914D\u7F6E\u5C31\u4E0D\u80FD\u518D\u7528 <code>moduleDirectories</code> \u4E86\uFF0C\u4E5F\u5F97\u7528\u8DEF\u5F84\u5339\u914D\u3002\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <code>moduleNameMapper</code>\uFF0C\u8FD9\u4E5F\u662F\u4F7F\u7528\u9891\u7387\u975E\u5E38\u9AD8\u7684\u4E00\u4E2A\u914D\u7F6E\u9879\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// jest.config.js</span>
modulex<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;moduleNameMapper&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;@/(.*)&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;rootDir&gt;/src/$1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u53EF\u662F\u96BE\u9053\u6BCF\u6B21\u5199\u8DEF\u5F84\u5339\u914D\u89C4\u5219\u90FD\u5728 <code>tsconfig.json</code> \u548C <code>jest.config.js</code> \u5199\u4E24\u4EFD\u4E48\uFF1F<strong>\u5F88\u9057\u61BE\uFF0C\u786E\u5B9E\u5982\u6B64\u3002\u9020\u6210\u8FD9\u4E2A\u95EE\u9898\u7684\u4E3B\u8981\u539F\u56E0\u662F <code>jest</code> \u6839\u672C\u4E0D\u7BA1 <code>tsc</code>\u3002</strong> \u4E0D\u8FC7\uFF0C\u597D\u6D88\u606F\u662F\uFF0C\u53EF\u4EE5\u7528 <code>ts-jest</code> \u91CC\u7684\u5DE5\u5177\u51FD\u6570 <code>pathsToModuleNameMapper</code> \u6765\u628A <code>tsconfig.json</code> \u91CC\u7684 <code>paths</code> \u914D\u7F6E\u590D\u5236\u5230 <code>jest.config.js</code> \u91CC\u7684 <code>moduleNameMapper</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// jest.config.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> pathsToModuleNameMapper <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;ts-jest/utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> compilerOptions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./tsconfig&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// [...]</span>
  <span class="token comment">// { prefix: &#39;&lt;rootDir/&gt;&#39; }</span>
  <span class="token literal-property property">moduleNameMapper</span><span class="token operator">:</span> <span class="token function">pathsToModuleNameMapper</span><span class="token punctuation">(</span>compilerOptions<span class="token punctuation">.</span>paths<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,13),Ra=o("\u770B\u5230\u8FD9\u6837\u7684\u914D\u7F6E\u65B9\u6CD5\uFF0C\u4F60\u662F\u4E0D\u662F\u89C9\u5F97 JS \u7684\u5355\u4E00\u539F\u5219\u592A\u96BE\u9876\u4E86\uFF1F\u8FD9\u4E48\u7B80\u5355\u7684\u4E00\u4E2A\u529F\u80FD\u90FD\u8981\u901A\u8FC7\u7B2C\u4E09\u65B9\u7684 <code>ts-jest</code> \u6765\u63D0\u4F9B\uFF1F\u7136\u800C\uFF0C\u574F\u6D88\u606F\u662F <code>webpack</code> \u7684\u914D\u7F6E\u4E5F\u4E0D\u4F1A\u8BFB <code>tsconfig.json</code> \u91CC\u9762\u7684 <code>paths</code>\uFF0C <strong>\u6240\u4EE5\uFF0C\u5F00\u53D1\u8005\u4E0D\u4EC5\u8981\u5728 <code>tsconfig.json</code> \u91CC\u5199\u4E00\u4EFD\u8DEF\u5F84\u6620\u5C04\uFF0C\u8FD8\u8981\u5728 <code>webpack.config.js</code> \u91CC\u518D\u5199\u4E00\u4EFD</strong> \u3002",11),Oa={href:"https://stackoverflow.com/questions/40443806/webpack-resolve-alias-does-not-work-with-typescript",target:"_blank",rel:"noopener noreferrer"},Pa=n("\u8BE6\u89C1\u8FD9\u91CC"),Va=n(" \u3002"),Wa=o(`<h3 id="\u751F\u6210\u6D4B\u8BD5\u8986\u76D6\u7387\u62A5\u544A" tabindex="-1"><a class="header-anchor" href="#\u751F\u6210\u6D4B\u8BD5\u8986\u76D6\u7387\u62A5\u544A" aria-hidden="true">#</a> \u751F\u6210\u6D4B\u8BD5\u8986\u76D6\u7387\u62A5\u544A</h3><p>\u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5\u8986\u76D6\u7387\uFF1F</p><p>\u5355\u5143\u6D4B\u8BD5\u8986\u76D6\u7387\u662F\u4E00\u79CD\u8F6F\u4EF6\u6D4B\u8BD5\u7684\u5EA6\u91CF\u6307\u6807\uFF0C\u6307\u5728\u6240\u6709\u529F\u80FD\u4EE3\u7801\u4E2D\uFF0C\u5B8C\u6210\u4E86\u5355\u5143\u6D4B\u8BD5\u7684\u4EE3\u7801\u6240\u5360\u7684\u6BD4\u4F8B\u3002\u6709\u5F88\u591A\u81EA\u52A8\u5316\u6D4B\u8BD5\u6846\u67B6\u5DE5\u5177\u53EF\u4EE5\u63D0\u4F9B\u8FD9\u4E00\u7EDF\u8BA1\u6570\u636E\uFF0C\u5176\u4E2D\u6700\u57FA\u7840\u7684\u8BA1\u7B97\u65B9\u5F0F\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5355\u5143\u6D4B\u8BD5\u8986\u76D6\u7387 = \u88AB\u6D4B\u4EE3\u7801\u884C\u6570 / \u53C2\u6D4B\u4EE3\u7801\u603B\u884C\u6570 * 100%
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5982\u4F55\u751F\u6210\uFF1F</p><p>\u52A0\u5165 jest.config.js \u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u662F\u5426\u663E\u793A\u8986\u76D6\u7387\u62A5\u544A</span>
  <span class="token literal-property property">collectCoverage</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// \u544A\u8BC9 Jest \u54EA\u4E9B\u6587\u4EF6\u9700\u8981\u7ECF\u8FC7\u5355\u5143\u6D4B\u8BD5\u6D4B\u8BD5</span>
  <span class="token literal-property property">collectCoverageFrom</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="`+j+`" alt=""></p><p>\u53C2\u6570\u89E3\u8BFB</p><table><thead><tr><th>\u53C2\u6570\u540D</th><th>\u542B\u4E49</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>% stmts</td><td>\u8BED\u53E5\u8986\u76D6\u7387</td><td>\u662F\u4E0D\u662F\u6BCF\u4E2A\u8BED\u53E5\u90FD\u6267\u884C\u4E86\uFF1F</td></tr><tr><td>% Branch</td><td>\u5206\u652F\u8986\u76D6\u7387</td><td>\u662F\u4E0D\u662F\u6BCF\u4E2A if \u4EE3\u7801\u5757\u90FD\u6267\u884C\u4E86\uFF1F</td></tr><tr><td>% Funcs</td><td>\u51FD\u6570\u8986\u76D6\u7387</td><td>\u662F\u4E0D\u662F\u6BCF\u4E2A\u51FD\u6570\u90FD\u8C03\u7528\u4E86\uFF1F</td></tr><tr><td>% Lines</td><td>\u884C\u8986\u76D6\u7387</td><td>\u662F\u4E0D\u662F\u6BCF\u4E00\u884C\u90FD\u6267\u884C\u4E86\uFF1F</td></tr></tbody></table><p>\u4E0A\u9762\u7EC8\u7AEF\u91CC\u5C55\u793A\u7684\u5C31\u662F\u8986\u76D6\u7387\u60C5\u51B5\uFF0C\u53EA\u4E0D\u8FC7\u4EE5\u7EC8\u7AEF\u7684\u5F62\u5F0F\u5C55\u793A\u3002\u73B0\u5728\u6211\u4EEC\u6253\u5F00\u6839\u76EE\u5F55\u4E0B\u7684 <code>coverage</code> \u76EE\u5F55\uFF0C\u4F1A\u53D1\u73B0\u751F\u6210\u5F88\u591A\u8986\u76D6\u7387\u6587\u4EF6\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u251C\u2500\u2500 clover.xml             # Clover XML \u683C\u5F0F\u7684\u8986\u76D6\u7387\u62A5\u544A
\u251C\u2500\u2500 coverage-final.json    # JSON \u683C\u5F0F\u7684\u8986\u76D6\u7387\u62A5\u544A
\u251C\u2500\u2500 lcov-report            # HTML \u683C\u5F0F\u7684\u8986\u76D6\u7387\u62A5\u544A
\u2502   \u251C\u2500\u2500 base.css
\u2502   \u251C\u2500\u2500 block-navigation.js
\u2502   \u251C\u2500\u2500 favicon.png
\u2502   \u251C\u2500\u2500 index.html         # \u8986\u76D6\u7387\u6839\u6587\u4EF6
\u2502   \u251C\u2500\u2500 prettify.css
\u2502   \u251C\u2500\u2500 prettify.js
\u2502   \u251C\u2500\u2500 sort-arrow-sprite.png
\u2502   \u251C\u2500\u2500 sorter.js
\u2502   \u2514\u2500\u2500 sum.js.html        # sum.js \u7684\u8986\u76D6\u7387\u60C5\u51B5
\u2514\u2500\u2500 lcov.info
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Jest \u4F1A\u5728 <code>coverage</code> \u76EE\u5F55\u4E0B\u751F\u6210\u5404\u79CD\u4E0D\u540C\u683C\u5F0F\u7684\u8986\u76D6\u7387\u62A5\u544A\u6587\u4EF6\uFF0C\u6709 <code>XML</code>\uFF0C<code>JSON</code>\uFF0C\u4E5F\u6709 <code>HTML</code> \u7684\u3002\u751F\u6210\u8FD9\u4E48\u591A\u4E0D\u540C\u683C\u5F0F\u7684\u6D4B\u8BD5\u62A5\u544A\u53EA\u53EA\u662F\u4E3A\u4E86\u65B9\u4FBF\u4E0D\u540C\u5DE5\u5177\u7684\u8BFB\u53D6\uFF0C \u6BD4\u5982 JS \u8BFB JSON \u5C31\u6BD4\u8BFB XML \u5BB9\u6613\uFF0C\u5B83\u4EEC\u63CF\u8FF0\u7684\u5185\u5BB9\u90FD\u662F\u4E00\u6837\u7684\u3002</p><p>\u65E0\u8BBA\u54EA\u79CD\u683C\u5F0F\uFF0C\u90FD\u5F88\u96BE\u76F4\u89C2\u5730\u770B\u61C2\u3002\u56E0\u6B64\uFF0CJest \u4E5F\u652F\u6301\u751F\u6210\u7F51\u9875\u7684\u6D4B\u8BD5\u62A5\u544A\uFF0C\u6253\u5F00 <code>lcov-report/index.html</code> \u5C31\u53EF\u4EE5\u770B\u5230\u7F51\u9875\u7248\u7684\u6D4B\u8BD5\u62A5\u544A\u4E86.</p><h3 id="\u62A5\u9519" tabindex="-1"><a class="header-anchor" href="#\u62A5\u9519" aria-hidden="true">#</a> \u62A5\u9519</h3><ol><li><img src="`+v+'" alt=""></li></ol>',16),za=n("v28\u7248\u672C\u66F4\u65B0\u5BFC\u81F4\uFF0C\u89C1"),Ga={href:"https://jestjs.io/blog/2022/04/25/jest-28#breaking-changes",target:"_blank",rel:"noopener noreferrer"},Qa=n("\u6587\u6863"),Xa=s("p",null,[n("\u5B89\u88C5"),s("code",null,"pnpm i jest-environment-jsdom -D"),n(" \u89E3\u51B3")],-1),Ha=s("ol",{start:"2"},[s("li",null,[n("svg\u8D44\u6E90\u5BFC\u81F4 "),s("code",null,"Jest encountered an unexpected token")])],-1),Ka=n("jest\u914D\u7F6E\u6DFB\u52A0\u5982\u4E0B\uFF0C\u5982"),Ya={href:"https://jestjs.io/docs/next/code-transformation",target:"_blank",rel:"noopener noreferrer"},Za=n("Code Transformation"),se=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;\\\\.[jt]sx?$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;babel-jest&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;\\\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&lt;rootDir&gt;/jest/fileTransformer.js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="3"><li>path alias</li></ol>`,2),ne=n("\u8BBE\u7F6E\u6587\u4EF6\u8DEF\u5F84\u522B\u540D\u65F6\uFF0C\u5DE5\u7A0B\u4E0A\u65F6"),ae={href:"https://cn.vitejs.dev/config/#resolve-alias",target:"_blank",rel:"noopener noreferrer"},ee=n("resolve.alias"),te=n(" + "),pe={href:"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping",target:"_blank",rel:"noopener noreferrer"},oe=n("typescript path alias"),ce=n(" \uFF0C\u5728\u8DD1\u6D4B\u8BD5\u65F6\u4F1A\u627E\u4E0D\u5230\u5BF9\u5E94\u7684\u6A21\u5757\uFF0C \u9700\u8981\u5728"),re=s("code",null,"jest.config.js",-1),le=n("\u4E2D\u914D\u7F6E"),ie=s("code",null,"moduleNameMapper",-1),ue=n("\uFF0C\u7C7B\u4F3C\u5982\u4E0B"),de=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">moduleNameMapper</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;\\\\.(css|sass|scss)$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;identity-obj-proxy&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;^@api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&lt;rootDir&gt;/src/api/index.ts&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;^@/(.*)$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&lt;rootDir&gt;/src/$1&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> Reference</h2>`,2),be={href:"https://jestjs.io/docs/getting-started",target:"_blank",rel:"noopener noreferrer"},ke=n("jest"),me={href:"https://kentcdodds.com/blog/write-tests",target:"_blank",rel:"noopener noreferrer"},he=n("write-tests"),_e={href:"https://www.jianshu.com/p/62f16cd4fef3",target:"_blank",rel:"noopener noreferrer"},ge=n("\u6DF1\u5EA6\u89E3\u8BFB - TDD\uFF08\u6D4B\u8BD5\u9A71\u52A8\u5F00\u53D1\uFF09"),fe={href:"https://ths.js.org/2021/04/06/%E5%89%8D%E7%AB%AF%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/",target:"_blank",rel:"noopener noreferrer"},je=n("\u524D\u7AEF\u5355\u5143\u6D4B\u8BD5"),ve={href:"https://insights.thoughtworks.cn/react-strategies-for-unit-testing/",target:"_blank",rel:"noopener noreferrer"},ye=n("React\u5355\u5143\u6D4B\u8BD5\u7B56\u7565\u53CA\u843D\u5730"),qe={href:"https://insights.thoughtworks.cn/front-end-testing/",target:"_blank",rel:"noopener noreferrer"},xe=n("\u524D\u7AEF\u6D4B\u8BD5\u7684\u53CD\u6A21\u5F0F"),we={href:"https://www.cnblogs.com/xybaby/p/12894470.html",target:"_blank",rel:"noopener noreferrer"},De=n("\u91CD\u6784\uFF1A\u5E72\u6389\u6709\u574F\u5473\u9053\u7684\u4EE3\u7801");function Te(Ee,Ie){const t=c("RouterLink"),e=c("ExternalLinkIcon");return l(),i(u,null,[q,s("nav",x,[s("ul",null,[s("li",null,[a(t,{to:"#\u5F15\u8A00"},{default:p(()=>[w]),_:1})]),s("li",null,[a(t,{to:"#\u6D4B\u8BD5\u7C7B\u578B"},{default:p(()=>[D]),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#\u4EC0\u4E48\u662F\u5355\u5143\u6D4B\u8BD5"},{default:p(()=>[T]),_:1})]),s("li",null,[a(t,{to:"#\u96C6\u6210\u6D4B\u8BD5"},{default:p(()=>[E]),_:1})]),s("li",null,[a(t,{to:"#ui-\u6D4B\u8BD5-ui-test"},{default:p(()=>[I]),_:1})]),s("li",null,[a(t,{to:"#\u7AEF\u5230\u7AEF\u6D4B\u8BD5e2e-test"},{default:p(()=>[F]),_:1})])])]),s("li",null,[a(t,{to:"#\u524D\u7AEF\u73B0\u4EE3\u5316\u6D4B\u8BD5\u6A21\u578B"},{default:p(()=>[U]),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#\u6D4B\u8BD5\u91D1\u5B57\u5854"},{default:p(()=>[M]),_:1})]),s("li",null,[a(t,{to:"#\u5956\u676F\u6A21\u5F0F"},{default:p(()=>[A]),_:1})]),s("li",null,[a(t,{to:"#\u4EC0\u4E48\u573A\u666F\u9002\u5408"},{default:p(()=>[J]),_:1})])])]),s("li",null,[a(t,{to:"#\u6D4B\u8BD5\u5F00\u53D1\u6D41\u7A0B"},{default:p(()=>[B]),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#tdd"},{default:p(()=>[S]),_:1})]),s("li",null,[a(t,{to:"#tdd-\u7684\u4E09\u5C42\u542B\u4E49"},{default:p(()=>[N]),_:1})]),s("li",null,[a(t,{to:"#tdd-\u7684\u6D41\u7A0B"},{default:p(()=>[C]),_:1})]),s("li",null,[a(t,{to:"#\u7B80\u5355\u8BBE\u8BA1\u539F\u5219"},{default:p(()=>[L]),_:1})]),s("li",null,[a(t,{to:"#\u6D4B\u8BD5\u6761\u4EF6\u683C\u5F0F"},{default:p(()=>[$]),_:1})]),s("li",null,[a(t,{to:"#\u4F20\u7EDF\u7F16\u7801\u65B9\u5F0F-\u5BF9\u6BD4-tdd-\u7F16\u7801\u65B9\u5F0F"},{default:p(()=>[R]),_:1})]),s("li",null,[a(t,{to:"#bdd"},{default:p(()=>[O]),_:1})]),s("li",null,[a(t,{to:"#\u6D4B\u8BD5\u539F\u5219"},{default:p(()=>[P]),_:1})])])]),s("li",null,[a(t,{to:"#react\u9879\u76EE\u5982\u4F55\u914D\u7F6Ejest\u548Crtl"},{default:p(()=>[V]),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#\u5B89\u88C5\u4F9D\u8D56"},{default:p(()=>[W]),_:1})]),s("li",null,[a(t,{to:"#babel"},{default:p(()=>[z]),_:1})]),s("li",null,[a(t,{to:"#\u4F7F\u7528ts-jest-\u4EE3\u66FFbabel"},{default:p(()=>[G]),_:1})]),s("li",null,[a(t,{to:"#\u914D\u7F6E\u6587\u4EF6"},{default:p(()=>[Q]),_:1})]),s("li",null,[a(t,{to:"#\u8DEF\u5F84\u7B80\u5199"},{default:p(()=>[X]),_:1})]),s("li",null,[a(t,{to:"#\u751F\u6210\u6D4B\u8BD5\u8986\u76D6\u7387\u62A5\u544A"},{default:p(()=>[H]),_:1})]),s("li",null,[a(t,{to:"#\u62A5\u9519"},{default:p(()=>[K]),_:1})])])]),s("li",null,[a(t,{to:"#reference"},{default:p(()=>[Y]),_:1})])])]),Z,s("p",null,[s("a",ss,[ns,a(e)]),as]),es,s("p",null,[ts,s("a",ps,[os,a(e)])]),cs,s("p",null,[rs,s("a",ls,[is,a(e)]),us]),ds,s("blockquote",null,[s("p",null,[bs,ks,ms,s("a",hs,[_s,a(e)]),gs,s("a",fs,[js,a(e)]),vs])]),ys,s("p",null,[qs,s("a",xs,[ws,a(e)]),Ds,Ts,Es,Is,Fs]),Us,s("p",null,[Ms,As,Js,s("a",Bs,[Ss,a(e)]),Ns,s("a",Cs,[Ls,a(e)]),$s]),Rs,s("p",null,[Os,Ps,Vs,Ws,zs,Gs,Qs,Xs,Hs,s("a",Ks,[Ys,a(e)]),Zs]),sn,s("p",null,[nn,an,en,tn,pn,on,cn,rn,ln,un,dn,s("a",bn,[kn,a(e)]),mn]),hn,s("p",null,[_n,gn,fn,jn,vn,s("a",yn,[qn,a(e)]),xn,s("a",wn,[Dn,a(e)])]),Tn,s("blockquote",null,[s("p",null,[En,s("a",In,[Fn,a(e)]),Un])]),Mn,s("h3",An,[Jn,Bn,s("a",Sn,[Nn,a(e)]),Cn,Ln]),$n,s("h4",Rn,[On,Pn,s("a",Vn,[Wn,a(e)]),zn]),Gn,s("p",null,[Qn,s("a",Xn,[Hn,a(e)]),Kn]),Yn,s("p",null,[Zn,s("a",sa,[na,a(e)]),aa,ea,ta]),s("p",null,[pa,s("a",oa,[ca,a(e)]),ra]),s("h4",la,[ia,ua,s("a",da,[ba,a(e)]),ka]),ma,s("p",null,[ha,_a,ga,s("a",fa,[ja,a(e)]),va]),ya,s("p",null,[qa,xa,wa,Da,Ta,s("a",Ea,[Ia,a(e)]),Fa]),Ua,s("p",null,[Ma,Aa,Ja,s("strong",null,[Ba,s("a",Sa,[Na,a(e)]),Ca]),La]),$a,s("p",null,[Ra,s("a",Oa,[Pa,a(e)]),Va]),Wa,s("p",null,[za,s("a",Ga,[Qa,a(e)])]),Xa,Ha,s("p",null,[Ka,s("a",Ya,[Za,a(e)])]),se,s("p",null,[ne,s("a",ae,[ee,a(e)]),te,s("a",pe,[oe,a(e)]),ce,re,le,ie,ue]),de,s("ul",null,[s("li",null,[s("a",be,[ke,a(e)])]),s("li",null,[s("a",me,[he,a(e)])]),s("li",null,[s("a",_e,[ge,a(e)])]),s("li",null,[s("a",fe,[je,a(e)])]),s("li",null,[s("a",ve,[ye,a(e)])]),s("li",null,[s("a",qe,[xe,a(e)])]),s("li",null,[s("a",we,[De,a(e)])])])],64)}var Ue=r(y,[["render",Te],["__file","guideAndConfigSetting.html.vue"]]);export{Ue as default};
